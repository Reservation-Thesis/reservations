{"ast":null,"code":"var _jsxFileName = \"/Users/rbk-4/Desktop/reservations2/src/image.js\";\nimport React from 'react';\nimport $ from 'jquery';\n\nclass image extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: '',\n      user: []\n    };\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n  } //   componentDidMount () {\n  //     var that = this\n  //     var user = this.props.image\n  //   }\n\n\n  uploadPhoto(photo) {\n    // post the photo and get the photo in the same time\n    var that = this;\n    console.log('state,this', this.state);\n    var file = photo.target.files[0];\n    var fileReader = new FileReader();\n    fileReader.readAsDataURL(file);\n\n    fileReader.onload = function (e) {\n      $.ajax({\n        url: '/updateImage',\n        type: 'PUT',\n        data: JSON.stringify({\n          image: that.state.image\n        }),\n        contentType: 'application/json',\n        success: function (data) {\n          console.log('dataaaaaaaaaaa', data);\n        }\n      });\n      that.setState({\n        image: e.target.result\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.image || 'http://sba.scfhs.org.sa/publiceservice_enu/CustomPages/Profileuploader/static/images/default.jpg',\n      style: {\n        width: '200px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.uploadPhoto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default image;","map":{"version":3,"sources":["/Users/rbk-4/Desktop/reservations2/src/image.js"],"names":["React","$","image","Component","constructor","props","state","user","uploadPhoto","bind","photo","that","console","log","file","target","files","fileReader","FileReader","readAsDataURL","onload","e","ajax","url","type","data","JSON","stringify","contentType","success","setState","result","render","width"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAAEC,KAAF,EAAS;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXJ,MAAAA,KAAK,EAAE,EADI;AAEXK,MAAAA,IAAI,EAAE;AAFK,KAAb;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD,GARiC,CASpC;AACA;AACA;AACA;;;AACED,EAAAA,WAAW,CAAEE,KAAF,EAAS;AAAE;AACpB,QAAIC,IAAI,GAAG,IAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAKP,KAA/B;AACA,QAAIQ,IAAI,GAAGJ,KAAK,CAACK,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX;AACA,QAAIC,UAAU,GAAG,IAAIC,UAAJ,EAAjB;AACAD,IAAAA,UAAU,CAACE,aAAX,CAAyBL,IAAzB;;AACAG,IAAAA,UAAU,CAACG,MAAX,GAAoB,UAAUC,CAAV,EAAa;AAC/BpB,MAAAA,CAAC,CAACqB,IAAF,CAAO;AACLC,QAAAA,GAAG,EAAE,cADA;AAELC,QAAAA,IAAI,EAAE,KAFD;AAGLC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACzB,UAAAA,KAAK,EAAES,IAAI,CAACL,KAAL,CAAWJ;AAAnB,SAAf,CAHD;AAIL0B,QAAAA,WAAW,EAAE,kBAJR;AAKLC,QAAAA,OAAO,EAAE,UAAUJ,IAAV,EAAgB;AACvBb,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BY,IAA9B;AACD;AAPI,OAAP;AASAd,MAAAA,IAAI,CAACmB,QAAL,CAAc;AAAC5B,QAAAA,KAAK,EAAEmB,CAAC,CAACN,MAAF,CAASgB;AAAjB,OAAd;AACD,KAXD;AAYD;;AACDC,EAAAA,MAAM,GAAI;AACR,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAE,KAAK1B,KAAL,CAAWJ,KAAX,IAAoB,kGAA9B;AAAkI,MAAA,KAAK,EAAE;AAAC+B,QAAAA,KAAK,EAAE;AAAR,OAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKzB,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CADF;AASD;;AA1CiC;;AA4CpC,eAAeN,KAAf","sourcesContent":["import React from 'react'\r\nimport $ from 'jquery'\r\n\r\nclass image extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      image: '',\r\n      user: []\r\n    }\r\n    this.uploadPhoto = this.uploadPhoto.bind(this)\r\n  }\r\n//   componentDidMount () {\r\n//     var that = this\r\n//     var user = this.props.image\r\n//   }\r\n  uploadPhoto (photo) { // post the photo and get the photo in the same time\r\n    var that = this\r\n    console.log('state,this', this.state)\r\n    var file = photo.target.files[0]\r\n    var fileReader = new FileReader()\r\n    fileReader.readAsDataURL(file)\r\n    fileReader.onload = function (e) {\r\n      $.ajax({\r\n        url: '/updateImage',\r\n        type: 'PUT',\r\n        data: JSON.stringify({image: that.state.image}),\r\n        contentType: 'application/json',\r\n        success: function (data) {\r\n          console.log('dataaaaaaaaaaa', data)\r\n        }\r\n      })\r\n      that.setState({image: e.target.result})\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        <img src={this.state.image || 'http://sba.scfhs.org.sa/publiceservice_enu/CustomPages/Profileuploader/static/images/default.jpg'} style={{width: '200px'}} />\r\n        <form>\r\n          <input type='file' onChange={this.uploadPhoto} />\r\n        </form>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nexport default image;\r\n"]},"metadata":{},"sourceType":"module"}