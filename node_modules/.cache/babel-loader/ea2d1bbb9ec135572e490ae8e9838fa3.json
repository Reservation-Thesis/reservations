{"ast":null,"code":"/**\n * Bundle of @devexpress/dx-react-scheduler\n * Generated: 2019-12-05\n * Version: 2.3.1\n * License: https://js.devexpress.com/Licensing\n */\nimport { createElement, PureComponent, Fragment, createRef, useRef, useState, useCallback, useEffect } from 'react';\nimport { Plugin, Getter, Template, TemplatePlaceholder, PluginHost, TemplateConnector, Action, createStateHelper, DragDropProvider as DragDropProvider$1, DropTarget, DragSource } from '@devexpress/dx-react-core';\nimport { formatDateTimeGetter, appointments, computed, availableViews, getAppointmentStyle, startViewDate, endViewDate, verticalTimeTableRects, viewCellsData, horizontalTimeTableRects, monthCellsData, viewBoundText, POSITION_START, POSITION_END, allDayCells, allDayRects, changeCurrentDate, setCurrentViewName, preCommitChanges, startEditAppointment, stopEditAppointment, changeAppointment, cancelChanges, RECURRENCE_EDIT_SCOPE, changedAppointmentById, addAppointment, cancelAddedAppointment, TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY, getAppointmentResources, OPEN_COMMAND_BUTTON, CLOSE_COMMAND_BUTTON, DELETE_COMMAND_BUTTON, setAppointmentMeta, TOGGLE_APPOINTMENT_FORM_VISIBILITY, callActionIfExists, isAllDayCell, setAppointmentData, autoScroll, cellIndex, cellData, cellType, calculateInsidePart, intervalDuration, calculateAppointmentTimeBoundaries, calculateDraftAppointments, RESIZE_TOP, RESIZE_BOTTOM, validateResources, convertResourcesToPlain, isMonthCell, getCurrentTimeIndicatorTop, isCellShaded, isShadedAppointment } from '@devexpress/dx-scheduler-core';\nimport { memoize, createClickHandlers, getMessagesFormatter } from '@devexpress/dx-core';\nimport moment from 'moment';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nvar SchedulerCoreBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(SchedulerCoreBase, _super);\n\n  function SchedulerCoreBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.formatDateTimeGetter = memoize(function (locale) {\n      return formatDateTimeGetter(locale);\n    });\n    return _this;\n  }\n\n  SchedulerCoreBase.prototype.render = function () {\n    var _a = this.props,\n        data = _a.data,\n        Root = _a.rootComponent,\n        locale = _a.locale,\n        height = _a.height,\n        firstDayOfWeek = _a.firstDayOfWeek;\n    return createElement(Plugin, {\n      name: \"SchedulerCore\"\n    }, createElement(Getter, {\n      name: \"appointments\",\n      value: appointments(data)\n    }), createElement(Getter, {\n      name: \"formatDate\",\n      value: formatDateTimeGetter(locale)\n    }), createElement(Getter, {\n      name: \"firstDayOfWeek\",\n      value: firstDayOfWeek\n    }), createElement(Getter, {\n      name: \"locale\",\n      value: locale\n    }), createElement(Template, {\n      name: \"root\"\n    }, createElement(Root, {\n      height: height\n    }, createElement(TemplatePlaceholder, {\n      name: \"schedulerRoot\"\n    }), createElement(TemplatePlaceholder, {\n      name: \"header\"\n    }), createElement(TemplatePlaceholder, {\n      name: \"body\"\n    }), createElement(TemplatePlaceholder, {\n      name: \"footer\"\n    }))));\n  };\n\n  return SchedulerCoreBase;\n}(PureComponent);\n/***\r\n * The Scheduler is a root container component designed to process\r\n * and display the specified data. The Scheduler's functionality\r\n * (data visualization and processing) is implemented in several plugins\r\n * specified as child components.\r\n * */\n\n\nvar SchedulerCore = SchedulerCoreBase;\n\nvar SchedulerBase = function (_a) {\n  var data = _a.data,\n      rootComponent = _a.rootComponent,\n      children = _a.children,\n      locale = _a.locale,\n      height = _a.height,\n      firstDayOfWeek = _a.firstDayOfWeek;\n  return createElement(PluginHost, null, createElement(SchedulerCore, {\n    data: data,\n    rootComponent: rootComponent,\n    locale: locale,\n    height: height,\n    firstDayOfWeek: firstDayOfWeek\n  }), children);\n};\n\nSchedulerBase.defaultProps = {\n  data: [],\n  locale: 'en-US',\n  height: 'auto',\n  firstDayOfWeek: 0\n}; // tslint:disable: max-line-length\n\n/***\r\n * The Scheduler is a root container component designed to process\r\n * and display the specified data. The Scheduler’s functionality\r\n * (data visualization and processing) is implemented in several plugins specified as child components.\r\n * */\n\nvar Scheduler = SchedulerBase;\n\nvar CellPlaceholder = function (params) {\n  return createElement(TemplatePlaceholder, {\n    name: \"cell\",\n    params: params\n  });\n};\n\nvar AppointmentPlaceholder = function (params) {\n  return createElement(TemplatePlaceholder, {\n    name: \"appointment\",\n    params: params\n  });\n};\n\nvar startViewDateBaseComputed = function (_a) {\n  var viewCellsData = _a.viewCellsData;\n  return startViewDate(viewCellsData);\n};\n\nvar endViewDateBaseComputed = function (_a) {\n  var viewCellsData = _a.viewCellsData;\n  return endViewDate(viewCellsData);\n};\n\nvar TimeTablePlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"timeTable\"\n  });\n};\n\nvar DayScalePlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"dayScale\"\n  });\n};\n\nvar BasicViewBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(BasicViewBase, _super);\n\n  function BasicViewBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      rects: [],\n      timeTableElementsMeta: {},\n      scrollingStrategy: {\n        topBoundary: 0,\n        bottomBoundary: 0,\n        changeVerticalScroll: function () {\n          return undefined;\n        }\n      }\n    };\n    _this.scrollingStrategyComputed = memoize(function (viewName, scrollingStrategy) {\n      return function (getters) {\n        return computed(getters, viewName, function () {\n          return scrollingStrategy;\n        }, getters.scrollingStrategy);\n      };\n    });\n    _this.timeTableElementsMetaComputed = memoize(function (viewName, timeTableElementsMeta) {\n      return function (getters) {\n        return computed(getters, viewName, function () {\n          return timeTableElementsMeta;\n        }, getters.timeTableElementsMeta);\n      };\n    });\n    _this.intervalCountComputed = memoize(function (viewName, intervalCount) {\n      return function (getters) {\n        return computed(getters, viewName, function () {\n          return intervalCount;\n        }, getters.intervalCount);\n      };\n    });\n    _this.excludedDaysComputed = memoize(function (viewName, excludedDays) {\n      return function (getters) {\n        return computed(getters, viewName, function () {\n          return excludedDays;\n        }, getters.excludedDays);\n      };\n    });\n    _this.availableViewsComputed = memoize(function (viewName, viewDisplayName) {\n      return function (_a) {\n        var availableViews$1 = _a.availableViews;\n        return availableViews(availableViews$1, viewName, viewDisplayName);\n      };\n    });\n    _this.currentViewComputed = memoize(function (viewName, viewDisplayName, type) {\n      return function (_a) {\n        var currentView = _a.currentView;\n        return currentView && currentView.name !== viewName ? currentView : {\n          name: viewName,\n          type: type,\n          displayName: viewDisplayName\n        };\n      };\n    });\n\n    _this.endViewDateComputed = function (getters) {\n      var viewName = _this.props.name;\n      return computed(getters, viewName, endViewDateBaseComputed, getters.endViewDate);\n    };\n\n    _this.startViewDateComputed = function (getters) {\n      var viewName = _this.props.name;\n      return computed(getters, viewName, startViewDateBaseComputed, getters.startViewDate);\n    };\n\n    _this.viewCellsDataComputed = memoize(function (viewName, cellDuration, startDayHour, endDayHour, viewCellsDataBaseComputed) {\n      return function (getters) {\n        return computed(getters, viewName, viewCellsDataBaseComputed(cellDuration, startDayHour, endDayHour), getters.viewCellsData);\n      };\n    });\n    _this.updateRects = memoize(function (appointments, startViewDate, endViewDate, viewCellsData, cellDuration, excludedDays, timeTableRects) {\n      return function (cellElementsMeta) {\n        var rects = timeTableRects(appointments, startViewDate, endViewDate, excludedDays, viewCellsData, cellDuration, cellElementsMeta);\n\n        _this.setState({\n          rects: rects,\n          timeTableElementsMeta: cellElementsMeta\n        });\n      };\n    });\n\n    _this.setScrollingStrategy = function (scrollingStrategy) {\n      _this.setState({\n        scrollingStrategy: scrollingStrategy\n      });\n    };\n\n    return _this;\n  }\n\n  BasicViewBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        viewName = _a.name,\n        intervalCount = _a.intervalCount,\n        displayName = _a.displayName,\n        type = _a.type,\n        excludedDays = _a.excludedDays,\n        cellDuration = _a.cellDuration,\n        startDayHour = _a.startDayHour,\n        endDayHour = _a.endDayHour,\n        viewCellsDataComputed = _a.viewCellsDataComputed,\n        timeTableRects = _a.timeTableRects,\n        dayScaleCellComponent = _a.dayScaleCellComponent,\n        dayScaleRowComponent = _a.dayScaleRowComponent,\n        DayScale = _a.dayScaleLayoutComponent,\n        TimeTableCell = _a.timeTableCellComponent,\n        TimeTableLayout = _a.timeTableLayoutComponent,\n        timeTableRowComponent = _a.timeTableRowComponent,\n        AppointmentLayer = _a.appointmentLayerComponent,\n        layoutProps = _a.layoutProps,\n        Layout = _a.layoutComponent;\n    var _b = this.state,\n        rects = _b.rects,\n        timeTableElementsMeta = _b.timeTableElementsMeta,\n        scrollingStrategy = _b.scrollingStrategy;\n    var viewDisplayName = displayName || viewName;\n    return createElement(Plugin, {\n      name: \"basicView\"\n    }, createElement(Getter, {\n      name: \"availableViews\",\n      computed: this.availableViewsComputed(viewName, viewDisplayName)\n    }), createElement(Getter, {\n      name: \"currentView\",\n      computed: this.currentViewComputed(viewName, viewDisplayName, type)\n    }), createElement(Getter, {\n      name: \"intervalCount\",\n      computed: this.intervalCountComputed(viewName, intervalCount)\n    }), createElement(Getter, {\n      name: \"excludedDays\",\n      computed: this.excludedDaysComputed(viewName, excludedDays)\n    }), createElement(Getter, {\n      name: \"viewCellsData\",\n      computed: this.viewCellsDataComputed(viewName, cellDuration, startDayHour, endDayHour, viewCellsDataComputed)\n    }), createElement(Getter, {\n      name: \"startViewDate\",\n      computed: this.startViewDateComputed\n    }), createElement(Getter, {\n      name: \"endViewDate\",\n      computed: this.endViewDateComputed\n    }), createElement(Getter, {\n      name: \"timeTableElementsMeta\",\n      computed: this.timeTableElementsMetaComputed(viewName, timeTableElementsMeta)\n    }), createElement(Getter, {\n      name: \"scrollingStrategy\",\n      computed: this.scrollingStrategyComputed(viewName, scrollingStrategy)\n    }), createElement(Template, {\n      name: \"body\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n      return createElement(Layout, __assign({\n        dayScaleComponent: DayScalePlaceholder,\n        timeTableComponent: TimeTablePlaceholder,\n        setScrollingStrategy: _this.setScrollingStrategy\n      }, layoutProps));\n    })), createElement(Template, {\n      name: \"dayScale\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView,\n          viewCellsData = _a.viewCellsData,\n          formatDate = _a.formatDate;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n      return createElement(DayScale, {\n        cellComponent: dayScaleCellComponent,\n        rowComponent: dayScaleRowComponent,\n        cellsData: viewCellsData,\n        formatDate: formatDate\n      });\n    })), createElement(Template, {\n      name: \"cell\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (_a) {\n        var currentView = _a.currentView;\n        if (currentView.name !== viewName) return createElement(TemplatePlaceholder, {\n          params: params\n        });\n        return createElement(TimeTableCell, __assign({}, params));\n      });\n    }), createElement(Template, {\n      name: \"timeTable\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var formatDate = _a.formatDate,\n          currentView = _a.currentView,\n          viewCellsData = _a.viewCellsData,\n          appointments = _a.appointments,\n          startViewDate = _a.startViewDate,\n          endViewDate = _a.endViewDate,\n          excludedDaysGetter = _a.excludedDays;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n\n      var setRects = _this.updateRects(appointments, startViewDate, endViewDate, viewCellsData, cellDuration, excludedDaysGetter, timeTableRects);\n\n      return createElement(Fragment, null, createElement(TimeTableLayout, {\n        cellsData: viewCellsData,\n        rowComponent: timeTableRowComponent,\n        cellComponent: CellPlaceholder,\n        formatDate: formatDate,\n        setCellElementsMeta: setRects\n      }), createElement(AppointmentLayer, null, rects.map(function (_a, index) {\n        var dataItem = _a.dataItem,\n            rectType = _a.type,\n            fromPrev = _a.fromPrev,\n            toNext = _a.toNext,\n            durationType = _a.durationType,\n            geometry = __rest(_a, [\"dataItem\", \"type\", \"fromPrev\", \"toNext\", \"durationType\"]);\n\n        return createElement(AppointmentPlaceholder, {\n          key: index.toString(),\n          type: rectType,\n          data: dataItem,\n          fromPrev: fromPrev,\n          toNext: toNext,\n          durationType: durationType,\n          style: getAppointmentStyle(geometry)\n        });\n      })));\n    })));\n  };\n\n  return BasicViewBase;\n}(PureComponent);\n\nvar BasicView = BasicViewBase;\nvar TYPE = 'day';\n\nvar viewCellsDataBaseComputed = function (cellDuration, startDayHour, endDayHour) {\n  return function (_a) {\n    var currentDate = _a.currentDate,\n        intervalCount = _a.intervalCount;\n    return viewCellsData(currentDate, undefined, intervalCount, [], startDayHour, endDayHour, cellDuration, Date.now());\n  };\n};\n\nvar DayScaleEmptyCellPlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"dayScaleEmptyCell\"\n  });\n};\n\nvar TimeScalePlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"timeScale\"\n  });\n};\n\nvar DayViewBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(DayViewBase, _super);\n\n  function DayViewBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DayViewBase.prototype.render = function () {\n    var _a = this.props,\n        layoutComponent = _a.layoutComponent,\n        DayScaleEmptyCell = _a.dayScaleEmptyCellComponent,\n        TimeScale = _a.timeScaleLayoutComponent,\n        TimeScaleLabel = _a.timeScaleLabelComponent,\n        timeScaleTickCellComponent = _a.timeScaleTickCellComponent,\n        timeScaleTicksRowComponent = _a.timeScaleTicksRowComponent,\n        dayScaleLayoutComponent = _a.dayScaleLayoutComponent,\n        dayScaleCellComponent = _a.dayScaleCellComponent,\n        dayScaleRowComponent = _a.dayScaleRowComponent,\n        timeTableLayoutComponent = _a.timeTableLayoutComponent,\n        timeTableRowComponent = _a.timeTableRowComponent,\n        timeTableCellComponent = _a.timeTableCellComponent,\n        appointmentLayerComponent = _a.appointmentLayerComponent,\n        cellDuration = _a.cellDuration,\n        viewName = _a.name,\n        intervalCount = _a.intervalCount,\n        displayName = _a.displayName,\n        startDayHour = _a.startDayHour,\n        endDayHour = _a.endDayHour;\n    return createElement(Plugin, {\n      name: \"DayView\"\n    }, createElement(BasicView, {\n      viewCellsDataComputed: viewCellsDataBaseComputed,\n      type: TYPE,\n      cellDuration: cellDuration,\n      name: viewName,\n      intervalCount: intervalCount,\n      displayName: displayName,\n      startDayHour: startDayHour,\n      endDayHour: endDayHour,\n      dayScaleLayoutComponent: dayScaleLayoutComponent,\n      dayScaleCellComponent: dayScaleCellComponent,\n      dayScaleRowComponent: dayScaleRowComponent,\n      timeTableCellComponent: timeTableCellComponent,\n      timeTableLayoutComponent: timeTableLayoutComponent,\n      timeTableRowComponent: timeTableRowComponent,\n      appointmentLayerComponent: appointmentLayerComponent,\n      timeTableRects: verticalTimeTableRects,\n      layoutComponent: layoutComponent,\n      layoutProps: {\n        dayScaleEmptyCellComponent: DayScaleEmptyCellPlaceholder,\n        timeScaleComponent: TimeScalePlaceholder\n      }\n    }), createElement(Template, {\n      name: \"dayScaleEmptyCell\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n      return createElement(DayScaleEmptyCell, null);\n    })), createElement(Template, {\n      name: \"timeScale\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView,\n          viewCellsData = _a.viewCellsData,\n          formatDate = _a.formatDate;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n      return createElement(TimeScale, {\n        labelComponent: TimeScaleLabel,\n        tickCellComponent: timeScaleTickCellComponent,\n        rowComponent: timeScaleTicksRowComponent,\n        cellsData: viewCellsData,\n        formatDate: formatDate\n      });\n    })));\n  };\n\n  DayViewBase.defaultProps = {\n    name: 'Day',\n    startDayHour: 0,\n    endDayHour: 24,\n    cellDuration: 30,\n    intervalCount: 1\n  };\n  DayViewBase.components = {\n    layoutComponent: 'Layout',\n    layoutContainer: 'LayoutContainer',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    timeScaleLayoutComponent: 'TimeScaleLayout',\n    timeScaleLabelComponent: 'TimeScaleLabel',\n    timeScaleTickCellComponent: 'TimeScaleTickCell',\n    timeScaleTicksRowComponent: 'TimeScaleTicksRow',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow'\n  };\n  return DayViewBase;\n}(PureComponent); // tslint:disable-next-line: max-line-length\n\n/*** A plugin that renders Scheduler data for a day. This plugin arranges appointments from top to bottom.\r\n * If their time intervals overlap, their width is decreased and they are placed next to each other.\r\n * */\n\n\nvar DayView = DayViewBase;\nvar DAYS_IN_WEEK = 7;\nvar TYPE$1 = 'week';\n\nvar viewCellsDataBaseComputed$1 = function (cellDuration, startDayHour, endDayHour) {\n  return function (_a) {\n    var firstDayOfWeek = _a.firstDayOfWeek,\n        intervalCount = _a.intervalCount,\n        excludedDays = _a.excludedDays,\n        currentDate = _a.currentDate;\n    return viewCellsData(currentDate, firstDayOfWeek, intervalCount * DAYS_IN_WEEK, excludedDays, startDayHour, endDayHour, cellDuration, Date.now());\n  };\n};\n\nvar DayScaleEmptyCellPlaceholder$1 = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"dayScaleEmptyCell\"\n  });\n};\n\nvar TimeScalePlaceholder$1 = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"timeScale\"\n  });\n};\n\nvar WeekViewBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(WeekViewBase, _super);\n\n  function WeekViewBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  WeekViewBase.prototype.render = function () {\n    var _a = this.props,\n        layoutComponent = _a.layoutComponent,\n        DayScaleEmptyCell = _a.dayScaleEmptyCellComponent,\n        TimeScale = _a.timeScaleLayoutComponent,\n        TimeScaleLabel = _a.timeScaleLabelComponent,\n        timeScaleTickCellComponent = _a.timeScaleTickCellComponent,\n        timeScaleTicksRowComponent = _a.timeScaleTicksRowComponent,\n        dayScaleLayoutComponent = _a.dayScaleLayoutComponent,\n        dayScaleCellComponent = _a.dayScaleCellComponent,\n        dayScaleRowComponent = _a.dayScaleRowComponent,\n        timeTableLayoutComponent = _a.timeTableLayoutComponent,\n        timeTableRowComponent = _a.timeTableRowComponent,\n        timeTableCellComponent = _a.timeTableCellComponent,\n        cellDuration = _a.cellDuration,\n        excludedDays = _a.excludedDays,\n        viewName = _a.name,\n        appointmentLayerComponent = _a.appointmentLayerComponent,\n        intervalCount = _a.intervalCount,\n        displayName = _a.displayName,\n        startDayHour = _a.startDayHour,\n        endDayHour = _a.endDayHour;\n    return createElement(Plugin, {\n      name: \"WeekView\"\n    }, createElement(BasicView, {\n      viewCellsDataComputed: viewCellsDataBaseComputed$1,\n      type: TYPE$1,\n      cellDuration: cellDuration,\n      name: viewName,\n      intervalCount: intervalCount,\n      displayName: displayName,\n      startDayHour: startDayHour,\n      endDayHour: endDayHour,\n      excludedDays: excludedDays,\n      dayScaleLayoutComponent: dayScaleLayoutComponent,\n      dayScaleCellComponent: dayScaleCellComponent,\n      dayScaleRowComponent: dayScaleRowComponent,\n      timeTableCellComponent: timeTableCellComponent,\n      timeTableLayoutComponent: timeTableLayoutComponent,\n      timeTableRowComponent: timeTableRowComponent,\n      appointmentLayerComponent: appointmentLayerComponent,\n      timeTableRects: verticalTimeTableRects,\n      layoutComponent: layoutComponent,\n      layoutProps: {\n        timeScaleComponent: TimeScalePlaceholder$1,\n        dayScaleEmptyCellComponent: DayScaleEmptyCellPlaceholder$1\n      }\n    }), createElement(Template, {\n      name: \"dayScaleEmptyCell\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n      return createElement(DayScaleEmptyCell, null);\n    })), createElement(Template, {\n      name: \"timeScale\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView,\n          viewCellsData = _a.viewCellsData,\n          formatDate = _a.formatDate;\n      if (currentView.name !== viewName) return createElement(TemplatePlaceholder, null);\n      return createElement(TimeScale, {\n        labelComponent: TimeScaleLabel,\n        tickCellComponent: timeScaleTickCellComponent,\n        rowComponent: timeScaleTicksRowComponent,\n        cellsData: viewCellsData,\n        formatDate: formatDate\n      });\n    })));\n  };\n\n  WeekViewBase.defaultProps = {\n    startDayHour: 0,\n    endDayHour: 24,\n    cellDuration: 30,\n    intervalCount: 1,\n    excludedDays: [],\n    name: 'Week'\n  };\n  WeekViewBase.components = {\n    layoutComponent: 'Layout',\n    layoutContainerComponent: 'LayoutContainer',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    timeScaleLayoutComponent: 'TimeScaleLayout',\n    timeScaleLabelComponent: 'TimeScaleLabel',\n    timeScaleTickCellComponent: 'TimeScaleTickCell',\n    timeScaleTicksRowComponent: 'TimeScaleTicksRow',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow'\n  };\n  return WeekViewBase;\n}(PureComponent); // tslint:disable: max-line-length\n\n/***\r\n * A plugin that renders the Scheduler's week view. This plugin arranges appointments from top to bottom.\r\n * If their time intervals overlap, their width is decreased and they are placed next to each other.\r\n * */\n\n\nvar WeekView = WeekViewBase;\n\nvar timeTableRects = function (appointments, startViewDate, endViewDate, excludedDays, viewCellsData, cellDuration, cellElementsMeta) {\n  return horizontalTimeTableRects(appointments, startViewDate, endViewDate, viewCellsData, cellElementsMeta);\n};\n\nvar TYPE$2 = 'month';\n\nvar viewCellsDataBaseComputed$2 = function (cellDuration, startDayHour, endDayHour) {\n  return function (_a) {\n    var currentDate = _a.currentDate,\n        firstDayOfWeek = _a.firstDayOfWeek,\n        intervalCount = _a.intervalCount;\n    return monthCellsData(currentDate, firstDayOfWeek, intervalCount, Date.now());\n  };\n};\n\nvar MonthViewBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MonthViewBase, _super);\n\n  function MonthViewBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MonthViewBase.prototype.render = function () {\n    var _a = this.props,\n        layoutComponent = _a.layoutComponent,\n        dayScaleLayoutComponent = _a.dayScaleLayoutComponent,\n        dayScaleCellComponent = _a.dayScaleCellComponent,\n        dayScaleRowComponent = _a.dayScaleRowComponent,\n        timeTableLayoutComponent = _a.timeTableLayoutComponent,\n        timeTableRowComponent = _a.timeTableRowComponent,\n        timeTableCellComponent = _a.timeTableCellComponent,\n        appointmentLayerComponent = _a.appointmentLayerComponent,\n        viewName = _a.name,\n        intervalCount = _a.intervalCount,\n        displayName = _a.displayName;\n    return createElement(Plugin, {\n      name: \"MonthView\"\n    }, createElement(BasicView, {\n      viewCellsDataComputed: viewCellsDataBaseComputed$2,\n      type: TYPE$2,\n      name: viewName,\n      intervalCount: intervalCount,\n      displayName: displayName,\n      dayScaleLayoutComponent: dayScaleLayoutComponent,\n      dayScaleCellComponent: dayScaleCellComponent,\n      dayScaleRowComponent: dayScaleRowComponent,\n      timeTableCellComponent: timeTableCellComponent,\n      timeTableLayoutComponent: timeTableLayoutComponent,\n      timeTableRowComponent: timeTableRowComponent,\n      appointmentLayerComponent: appointmentLayerComponent,\n      timeTableRects: timeTableRects,\n      layoutComponent: layoutComponent\n    }));\n  };\n\n  MonthViewBase.defaultProps = {\n    intervalCount: 1,\n    name: 'Month'\n  };\n  MonthViewBase.components = {\n    layoutComponent: 'Layout',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow'\n  };\n  return MonthViewBase;\n}(PureComponent); // tslint:disable: max-line-length\n\n/***\r\n * A plugin that renders Scheduler data for a month. This plugin arranges appointments from left to right.\r\n * An appointment's size depends on its duration in days.\r\n * However, it occupies the entire day cell if an appointment lasts only for several hours or minutes.\r\n * The time scale and all-day panel are not available in this view.\r\n * */\n\n\nvar MonthView = MonthViewBase;\n\nvar ToolbarBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ToolbarBase, _super);\n\n  function ToolbarBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ToolbarBase.prototype.render = function () {\n    var _a = this.props,\n        Root = _a.rootComponent,\n        FlexibleSpaceComponent = _a.flexibleSpaceComponent;\n    return createElement(Plugin, {\n      name: \"Toolbar\"\n    }, createElement(Template, {\n      name: \"header\"\n    }, createElement(Root, null, createElement(TemplatePlaceholder, {\n      name: \"toolbarContent\"\n    })), createElement(TemplatePlaceholder, null)), createElement(Template, {\n      name: \"toolbarContent\"\n    }, createElement(FlexibleSpaceComponent, null)));\n  };\n\n  ToolbarBase.components = {\n    rootComponent: 'Root',\n    flexibleSpaceComponent: 'FlexibleSpace'\n  };\n  return ToolbarBase;\n}(PureComponent);\n/** A plugin that renders the Scheduler's toolbar. */\n\n\nvar Toolbar = ToolbarBase;\nvar pluginDependencies = [{\n  name: 'Toolbar'\n}, {\n  name: 'ViewState'\n}];\n\nvar navigate = function (action, currentView, intervalCount) {\n  return function (direction, nextDate) {\n    return action({\n      direction: direction,\n      nextDate: nextDate,\n      amount: intervalCount,\n      step: currentView.type\n    });\n  };\n};\n\nvar DateNavigatorBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(DateNavigatorBase, _super);\n\n  function DateNavigatorBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      visible: false\n    };\n\n    _this.setRootRef = function (target) {\n      _this.target = target;\n    };\n\n    _this.handleVisibilityToggle = function () {\n      _this.setState(function (prevState) {\n        return {\n          visible: !prevState.visible\n        };\n      });\n    };\n\n    _this.handleHide = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.navigateAction = memoize(function (changeCurrentDate, currentView, intervalCount, navigateAction) {\n      return navigateAction(changeCurrentDate, currentView, intervalCount);\n    });\n    return _this;\n  }\n\n  DateNavigatorBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        Root = _a.rootComponent,\n        Overlay = _a.overlayComponent,\n        OpenButton = _a.openButtonComponent,\n        NavigationButton = _a.navigationButtonComponent,\n        Calendar = _a.calendarComponent,\n        CalendarRow = _a.calendarRowComponent,\n        CalendarCell = _a.calendarCellComponent,\n        CalendarHeaderRow = _a.calendarHeaderRowComponent,\n        CalendarHeaderCell = _a.calendarHeaderCellComponent,\n        CalendarText = _a.calendarTextComponent,\n        CalendarNavigationButton = _a.calendarNavigationButtonComponent,\n        CalendarNavigator = _a.calendarNavigatorComponent;\n    var visible = this.state.visible;\n    return createElement(Plugin, {\n      name: \"DateNavigator\",\n      dependencies: pluginDependencies\n    }, createElement(Template, {\n      name: \"toolbarContent\"\n    }, createElement(TemplateConnector, null, function (_a, _b) {\n      var currentDate = _a.currentDate,\n          startViewDate = _a.startViewDate,\n          endViewDate = _a.endViewDate,\n          firstDayOfWeek = _a.firstDayOfWeek,\n          currentView = _a.currentView,\n          intervalCount = _a.intervalCount,\n          formatDate = _a.formatDate;\n      var changeCurrentDate = _b.changeCurrentDate;\n\n      var navigateAction = _this.navigateAction(changeCurrentDate, currentView, intervalCount, navigate);\n\n      var calendarDateChanged = function (nextDate) {\n        navigateAction(undefined, nextDate);\n\n        _this.handleHide();\n      };\n\n      var navigatorText = viewBoundText(startViewDate, endViewDate, currentView.type, currentDate, intervalCount, formatDate);\n      return createElement(Fragment, null, createElement(Root, {\n        navigationButtonComponent: NavigationButton,\n        openButtonComponent: OpenButton,\n        navigatorText: navigatorText,\n        rootRef: _this.setRootRef,\n        onVisibilityToggle: _this.handleVisibilityToggle,\n        onNavigate: navigateAction\n      }), createElement(Overlay, {\n        visible: visible,\n        target: _this.target,\n        onHide: _this.handleHide\n      }, createElement(Calendar, {\n        selectedDate: currentDate,\n        firstDayOfWeek: firstDayOfWeek,\n        getCells: monthCellsData,\n        textComponent: CalendarText,\n        navigationButtonComponent: CalendarNavigationButton,\n        rowComponent: CalendarRow,\n        cellComponent: CalendarCell,\n        headerRowComponent: CalendarHeaderRow,\n        headerCellComponent: CalendarHeaderCell,\n        navigatorComponent: CalendarNavigator,\n        onSelectedDateChange: calendarDateChanged,\n        formatDate: formatDate\n      })));\n    }), createElement(TemplatePlaceholder, null)));\n  };\n\n  DateNavigatorBase.components = {\n    rootComponent: 'Root',\n    overlayComponent: 'Overlay',\n    openButtonComponent: 'OpenButton',\n    navigationButtonComponent: 'NavigationButton',\n    calendarComponent: 'Calendar',\n    calendarRowComponent: 'CalendarRow',\n    calendarCellComponent: 'CalendarCell',\n    calendarHeaderRowComponent: 'CalendarHeaderRow',\n    calendarHeaderCellComponent: 'CalendarHeaderCell',\n    calendarTextComponent: 'CalendarText',\n    calendarNavigatorComponent: 'CalendarNavigator',\n    calendarNavigationButtonComponent: 'CalendarNavigationButton'\n  };\n  return DateNavigatorBase;\n}(PureComponent);\n/** A plugin that renders the Scheduler’s date navigator. */\n\n\nvar DateNavigator = DateNavigatorBase;\nvar pluginDependencies$1 = [{\n  name: 'Toolbar'\n}, {\n  name: 'ViewState'\n}];\n\nvar ViewSwitcherBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ViewSwitcherBase, _super);\n\n  function ViewSwitcherBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ViewSwitcherBase.prototype.render = function () {\n    var Switcher = this.props.switcherComponent;\n    return createElement(Plugin, {\n      name: \"ViewSwitcher\",\n      dependencies: pluginDependencies$1\n    }, createElement(Template, {\n      name: \"toolbarContent\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a, _b) {\n      var currentView = _a.currentView,\n          availableViews = _a.availableViews;\n      var setCurrentViewName = _b.setCurrentViewName;\n      return createElement(Switcher, {\n        currentView: currentView,\n        availableViews: availableViews,\n        onChange: setCurrentViewName\n      });\n    })));\n  };\n\n  ViewSwitcherBase.components = {\n    switcherComponent: 'Switcher'\n  };\n  return ViewSwitcherBase;\n}(PureComponent);\n/** A plugin that renders the Scheduler's view switcher. */\n\n\nvar ViewSwitcher = ViewSwitcherBase;\nvar pluginDependencies$2 = [{\n  name: 'DayView',\n  optional: true\n}, {\n  name: 'WeekView',\n  optional: true\n}, {\n  name: 'MonthView',\n  optional: true\n}];\n\nvar AppointmentsBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(AppointmentsBase, _super);\n\n  function AppointmentsBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AppointmentsBase.prototype.render = function () {\n    var _a = this.props,\n        SplitIndicator = _a.splitIndicatorComponent,\n        Appointment = _a.appointmentComponent,\n        AppointmentContent = _a.appointmentContentComponent,\n        Container = _a.containerComponent,\n        recurringIconComponent = _a.recurringIconComponent;\n    return createElement(Plugin, {\n      name: \"Appointments\",\n      dependencies: pluginDependencies$2\n    }, createElement(Template, {\n      name: \"appointment\"\n    }, function (_a) {\n      var style = _a.style,\n          params = __rest(_a, [\"style\"]);\n\n      return createElement(TemplateConnector, null, function (_a) {\n        var formatDate = _a.formatDate;\n        return createElement(Container, {\n          style: style\n        }, createElement(TemplatePlaceholder, {\n          name: \"appointmentTop\",\n          params: {\n            data: params.data,\n            type: params.type,\n            slice: params.fromPrev\n          }\n        }), createElement(TemplatePlaceholder, {\n          name: \"appointmentContent\",\n          params: __assign(__assign({}, params), {\n            formatDate: formatDate\n          })\n        }), createElement(TemplatePlaceholder, {\n          name: \"appointmentBottom\",\n          params: {\n            data: params.data,\n            type: params.type,\n            slice: params.toNext\n          }\n        }));\n      });\n    }), createElement(Template, {\n      name: \"appointmentContent\"\n    }, function (_a) {\n      var onClick = _a.onClick,\n          onDoubleClick = _a.onDoubleClick,\n          formatDate = _a.formatDate,\n          data = _a.data,\n          type = _a.type,\n          fromPrev = _a.fromPrev,\n          toNext = _a.toNext,\n          durationType = _a.durationType,\n          resources = _a.resources,\n          restParams = __rest(_a, [\"onClick\", \"onDoubleClick\", \"formatDate\", \"data\", \"type\", \"fromPrev\", \"toNext\", \"durationType\", \"resources\"]);\n\n      return createElement(Appointment, __assign({\n        data: data,\n        resources: resources\n      }, createClickHandlers(onClick, onDoubleClick), restParams), fromPrev && createElement(SplitIndicator, {\n        position: POSITION_START,\n        appointmentType: type\n      }), createElement(AppointmentContent, {\n        data: data,\n        type: type,\n        durationType: durationType,\n        recurringIconComponent: recurringIconComponent,\n        formatDate: formatDate,\n        resources: resources\n      }), toNext && createElement(SplitIndicator, {\n        position: POSITION_END,\n        appointmentType: type\n      }));\n    }));\n  };\n\n  AppointmentsBase.components = {\n    splitIndicatorComponent: 'SplitIndicator',\n    containerComponent: 'Container',\n    appointmentComponent: 'Appointment',\n    appointmentContentComponent: 'AppointmentContent',\n    recurringIconComponent: 'RecurringIcon'\n  };\n  return AppointmentsBase;\n}(PureComponent);\n/** A plugin that renders appointments. */\n\n\nvar Appointments = AppointmentsBase;\nvar pluginDependencies$3 = [{\n  name: 'DayView',\n  optional: true\n}, {\n  name: 'WeekView',\n  optional: true\n}];\nvar defaultMessages = {\n  allDay: 'All Day'\n};\nvar MONTH = 'Month';\n\nvar AppointmentPlaceholder$1 = function (params) {\n  return createElement(TemplatePlaceholder, {\n    name: \"appointment\",\n    params: params\n  });\n};\n\nvar AllDayPanelPlaceholder = function (params) {\n  return createElement(TemplatePlaceholder, {\n    name: \"allDayPanel\",\n    params: params\n  });\n};\n\nvar CellPlaceholder$1 = function (params) {\n  return createElement(TemplatePlaceholder, {\n    name: \"allDayPanelCell\",\n    params: params\n  });\n};\n\nvar AllDayPanelBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(AllDayPanelBase, _super);\n\n  function AllDayPanelBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      rects: [],\n      elementsMeta: {}\n    };\n    _this.allDayCellsData = memoize(function (viewCellsData) {\n      return allDayCells(viewCellsData);\n    });\n    _this.updateRects = memoize(function (appointments, startViewDate, excludedDays, endViewDate, viewCellsData) {\n      return function (cellElementsMeta) {\n        var allDayLeftBound = moment(startViewDate).hours(0).minutes(0).toDate();\n        var allDayRightBound = moment(endViewDate).hours(23).minutes(59).toDate();\n        var rects = allDayRects(appointments, allDayLeftBound, allDayRightBound, excludedDays, viewCellsData, cellElementsMeta);\n\n        _this.setState({\n          rects: rects,\n          elementsMeta: cellElementsMeta\n        });\n      };\n    });\n    _this.getMessageFormatter = memoize(function (messages, allDayPanelDefaultMessages) {\n      return getMessagesFormatter(__assign(__assign({}, allDayPanelDefaultMessages), messages));\n    });\n    return _this;\n  }\n\n  AllDayPanelBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        AppointmentLayer = _a.appointmentLayerComponent,\n        Layout = _a.layoutComponent,\n        Cell = _a.cellComponent,\n        rowComponent = _a.rowComponent,\n        TitleCell = _a.titleCellComponent,\n        Container = _a.containerComponent,\n        messages = _a.messages;\n    var _b = this.state,\n        rects = _b.rects,\n        elementsMeta = _b.elementsMeta;\n    var getMessage = this.getMessageFormatter(messages, defaultMessages);\n    return createElement(Plugin, {\n      name: \"AllDayPanel\",\n      dependencies: pluginDependencies$3\n    }, createElement(Getter, {\n      name: \"allDayElementsMeta\",\n      value: elementsMeta\n    }), createElement(Template, {\n      name: \"dayScaleEmptyCell\"\n    }, createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView;\n      if (currentView === MONTH) return null;\n      return createElement(TitleCell, {\n        getMessage: getMessage\n      });\n    })), createElement(Template, {\n      name: \"dayScale\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView;\n      if (currentView === MONTH) return null;\n      return createElement(Container, null, createElement(AllDayPanelPlaceholder, null));\n    })), createElement(Template, {\n      name: \"allDayPanel\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a) {\n      var currentView = _a.currentView,\n          appointments = _a.appointments,\n          startViewDate = _a.startViewDate,\n          formatDate = _a.formatDate,\n          endViewDate = _a.endViewDate,\n          excludedDays = _a.excludedDays,\n          viewCellsData = _a.viewCellsData;\n      if (currentView.name === MONTH) return null;\n\n      var setRects = _this.updateRects(appointments, startViewDate, excludedDays, endViewDate, viewCellsData);\n\n      return createElement(Fragment, null, createElement(Layout, {\n        cellComponent: CellPlaceholder$1,\n        rowComponent: rowComponent,\n        cellsData: _this.allDayCellsData(viewCellsData),\n        setCellElementsMeta: setRects,\n        formatDate: formatDate\n      }), createElement(AppointmentLayer, null, rects.map(function (_a, index) {\n        var dataItem = _a.dataItem,\n            type = _a.type,\n            fromPrev = _a.fromPrev,\n            toNext = _a.toNext,\n            geometry = __rest(_a, [\"dataItem\", \"type\", \"fromPrev\", \"toNext\"]);\n\n        return createElement(AppointmentPlaceholder$1, {\n          style: getAppointmentStyle(geometry),\n          type: type,\n          key: index.toString(),\n          data: dataItem,\n          fromPrev: fromPrev,\n          toNext: toNext\n        });\n      })));\n    })), createElement(Template, {\n      name: \"allDayPanelCell\"\n    }, function (params) {\n      return createElement(Cell, __assign({}, params));\n    }));\n  };\n\n  AllDayPanelBase.defaultProps = {\n    messages: {}\n  };\n  AllDayPanelBase.components = {\n    appointmentLayerComponent: 'AppointmentLayer',\n    layoutComponent: 'Layout',\n    layoutContainerComponent: 'LayoutContainer',\n    cellComponent: 'Cell',\n    rowComponent: 'Row',\n    titleCellComponent: 'TitleCell',\n    containerComponent: 'Container'\n  };\n  return AllDayPanelBase;\n}(PureComponent);\n/** A plugin that renders the All Day Panel. */\n\n\nvar AllDayPanel = AllDayPanelBase;\n\nvar ViewStateBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ViewStateBase, _super);\n\n  function ViewStateBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.getCurrentViewComputed = memoize(function (currentViewName) {\n      return function () {\n        return currentViewName ? {\n          name: currentViewName\n        } : undefined;\n      };\n    });\n    _this.state = {\n      currentDate: props.currentDate || props.defaultCurrentDate,\n      currentViewName: props.currentViewName || props.defaultCurrentViewName\n    };\n    var stateHelper = createStateHelper(_this, {\n      currentDate: function () {\n        var onCurrentDateChange = _this.props.onCurrentDateChange;\n        return onCurrentDateChange;\n      },\n      currentViewName: function () {\n        var onCurrentViewNameChange = _this.props.onCurrentViewNameChange;\n        return onCurrentViewNameChange;\n      }\n    });\n    _this.changeCurrentDate = stateHelper.applyFieldReducer.bind(stateHelper, 'currentDate', changeCurrentDate);\n    _this.setCurrentViewName = stateHelper.applyFieldReducer.bind(stateHelper, 'currentViewName', setCurrentViewName);\n    return _this;\n  }\n\n  ViewStateBase.getDerivedStateFromProps = function (nextProps, prevState) {\n    var _a = nextProps.currentDate,\n        currentDate = _a === void 0 ? prevState.currentDate : _a,\n        _b = nextProps.currentViewName,\n        currentViewName = _b === void 0 ? prevState.currentViewName : _b;\n    return {\n      currentDate: currentDate,\n      currentViewName: currentViewName\n    };\n  };\n\n  ViewStateBase.prototype.render = function () {\n    var _a = this.state,\n        currentDate = _a.currentDate,\n        stateCurrentViewName = _a.currentViewName;\n    return createElement(Plugin, {\n      name: \"ViewState\"\n    }, createElement(Getter, {\n      name: \"currentDate\",\n      value: currentDate\n    }), createElement(Getter, {\n      name: \"currentView\",\n      computed: this.getCurrentViewComputed(stateCurrentViewName)\n    }), createElement(Action, {\n      name: \"changeCurrentDate\",\n      action: this.changeCurrentDate\n    }), createElement(Action, {\n      name: \"setCurrentViewName\",\n      action: this.setCurrentViewName\n    }));\n  };\n\n  ViewStateBase.defaultProps = {\n    defaultCurrentDate: new Date()\n  };\n  return ViewStateBase;\n}(PureComponent);\n/** A plugin that manages the view state. It specifies the current date and the displayed view. */\n\n\nvar ViewState = ViewStateBase;\n\nvar EditingStateBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(EditingStateBase, _super);\n\n  function EditingStateBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      editingAppointment: props.editingAppointment || props.defaultEditingAppointment,\n      addedAppointment: props.addedAppointment || props.defaultAddedAppointment,\n      appointmentChanges: props.appointmentChanges || props.defaultAppointmentChanges\n    };\n    var stateHelper = createStateHelper(_this, {\n      editingAppointment: function () {\n        var onEditingAppointmentChange = _this.props.onEditingAppointmentChange;\n        return onEditingAppointmentChange;\n      },\n      addedAppointment: function () {\n        var onAddedAppointmentChange = _this.props.onAddedAppointmentChange;\n        return onAddedAppointmentChange;\n      },\n      appointmentChanges: function () {\n        var onAppointmentChangesChange = _this.props.onAppointmentChangesChange;\n        return onAppointmentChangesChange;\n      }\n    });\n    _this.startEditAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'editingAppointment', startEditAppointment);\n    _this.stopEditAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'editingAppointment', stopEditAppointment);\n    _this.changeAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'appointmentChanges', changeAppointment);\n    _this.cancelChangedAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'appointmentChanges', cancelChanges);\n\n    _this.commitChangedAppointment = function (type) {\n      if (type === void 0) {\n        type = RECURRENCE_EDIT_SCOPE.CURRENT;\n      }\n\n      var _a = _this.state,\n          appointmentChanges = _a.appointmentChanges,\n          editingAppointment = _a.editingAppointment;\n      var _b = _this.props,\n          onCommitChanges = _b.onCommitChanges,\n          preCommitChanges = _b.preCommitChanges;\n      if (!editingAppointment) return;\n      var changes = !editingAppointment.rRule ? {\n        changed: changedAppointmentById(appointmentChanges, editingAppointment.id)\n      } : preCommitChanges(appointmentChanges, editingAppointment, type);\n      onCommitChanges(changes);\n\n      _this.cancelChangedAppointment();\n\n      _this.stopEditAppointment();\n    };\n\n    _this.addAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'addedAppointment', addAppointment);\n    _this.changeAddedAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'addedAppointment', changeAppointment);\n    _this.cancelAddedAppointment = stateHelper.applyFieldReducer.bind(stateHelper, 'addedAppointment', cancelAddedAppointment);\n\n    _this.commitAddedAppointment = function () {\n      var onCommitChanges = _this.props.onCommitChanges;\n      var stateAddedAppointment = _this.state.addedAppointment;\n      onCommitChanges({\n        added: stateAddedAppointment\n      });\n    };\n\n    _this.commitDeletedAppointment = function (_a) {\n      var deletedAppointmentData = _a.deletedAppointmentData,\n          _b = _a.type,\n          type = _b === void 0 ? 'current' : _b;\n      var _c = _this.props,\n          onCommitChanges = _c.onCommitChanges,\n          preCommitChanges = _c.preCommitChanges;\n      var changes = deletedAppointmentData.rRule ? preCommitChanges(null, deletedAppointmentData, type) : {\n        deleted: deletedAppointmentData.id\n      };\n      onCommitChanges(changes);\n    };\n\n    return _this;\n  }\n\n  EditingStateBase.getDerivedStateFromProps = function (nextProps, prevState) {\n    var _a = nextProps.editingAppointment,\n        editingAppointment = _a === void 0 ? prevState.editingAppointment : _a,\n        _b = nextProps.appointmentChanges,\n        appointmentChanges = _b === void 0 ? prevState.appointmentChanges : _b,\n        _c = nextProps.addedAppointment,\n        addedAppointment = _c === void 0 ? prevState.addedAppointment : _c;\n    return {\n      editingAppointment: editingAppointment,\n      appointmentChanges: appointmentChanges,\n      addedAppointment: addedAppointment\n    };\n  };\n\n  EditingStateBase.prototype.render = function () {\n    var _a = this.state,\n        addedAppointment = _a.addedAppointment,\n        editingAppointment = _a.editingAppointment,\n        appointmentChanges = _a.appointmentChanges;\n    return createElement(Plugin, {\n      name: \"EditingState\"\n    }, createElement(Getter, {\n      name: \"editingAppointment\",\n      value: editingAppointment\n    }), createElement(Action, {\n      name: \"startEditAppointment\",\n      action: this.startEditAppointment\n    }), createElement(Action, {\n      name: \"stopEditAppointment\",\n      action: this.stopEditAppointment\n    }), createElement(Getter, {\n      name: \"appointmentChanges\",\n      value: appointmentChanges\n    }), createElement(Action, {\n      name: \"changeAppointment\",\n      action: this.changeAppointment\n    }), createElement(Action, {\n      name: \"cancelChangedAppointment\",\n      action: this.cancelChangedAppointment\n    }), createElement(Action, {\n      name: \"commitChangedAppointment\",\n      action: this.commitChangedAppointment\n    }), createElement(Getter, {\n      name: \"addedAppointment\",\n      value: addedAppointment\n    }), createElement(Action, {\n      name: \"addAppointment\",\n      action: this.addAppointment\n    }), createElement(Action, {\n      name: \"changeAddedAppointment\",\n      action: this.changeAddedAppointment\n    }), createElement(Action, {\n      name: \"cancelAddedAppointment\",\n      action: this.cancelAddedAppointment\n    }), createElement(Action, {\n      name: \"commitAddedAppointment\",\n      action: this.commitAddedAppointment\n    }), createElement(Action, {\n      name: \"commitDeletedAppointment\",\n      action: this.commitDeletedAppointment\n    }));\n  };\n\n  EditingStateBase.defaultProps = {\n    defaultEditingAppointment: undefined,\n    defaultAppointmentChanges: {},\n    defaultAddedAppointment: {},\n    preCommitChanges: preCommitChanges\n  };\n  return EditingStateBase;\n}(PureComponent);\n/** A plugin that manages the scheduler appointment editing state. */\n\n\nvar EditingState = EditingStateBase;\nvar pluginDependencies$4 = [{\n  name: 'Appointments'\n}, {\n  name: 'EditingState',\n  optional: true\n}, {\n  name: 'EditRecurrenceMenu',\n  optional: true\n}, {\n  name: 'IntegratedEditing',\n  optional: true\n}];\nvar commandButtonIds = {\n  open: OPEN_COMMAND_BUTTON,\n  close: CLOSE_COMMAND_BUTTON,\n  delete: DELETE_COMMAND_BUTTON\n};\n\nvar AppointmentTooltipBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(AppointmentTooltipBase, _super);\n\n  function AppointmentTooltipBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      visible: props.visible,\n      appointmentMeta: props.appointmentMeta\n    };\n    var stateHelper = createStateHelper(_this, {\n      visible: function () {\n        var onVisibilityChange = _this.props.onVisibilityChange;\n        return onVisibilityChange;\n      },\n      appointmentMeta: function () {\n        var onAppointmentMetaChange = _this.props.onAppointmentMetaChange;\n        return onAppointmentMetaChange;\n      }\n    });\n\n    var toggleVisibility = function () {\n      var isOpen = _this.state.visible;\n      return !isOpen;\n    };\n\n    _this.toggleVisibility = stateHelper.applyFieldReducer.bind(stateHelper, 'visible', toggleVisibility);\n    _this.setAppointmentMeta = stateHelper.applyFieldReducer.bind(stateHelper, 'appointmentMeta', setAppointmentMeta);\n\n    _this.onAppointmentClick = function (_a) {\n      var target = _a.target,\n          data = _a.data;\n\n      _this.setAppointmentMeta({\n        target: target,\n        data: data\n      });\n\n      _this.toggleVisibility();\n    };\n\n    return _this;\n  }\n\n  AppointmentTooltipBase.getDerivedStateFromProps = function (nextProps, prevState) {\n    var _a = nextProps.visible,\n        visible = _a === void 0 ? prevState.visible : _a,\n        _b = nextProps.appointmentMeta,\n        appointmentMeta = _b === void 0 ? prevState.appointmentMeta : _b;\n    return {\n      appointmentMeta: appointmentMeta,\n      visible: visible\n    };\n  };\n\n  AppointmentTooltipBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        showOpenButton = _a.showOpenButton,\n        showDeleteButton = _a.showDeleteButton,\n        showCloseButton = _a.showCloseButton,\n        Layout = _a.layoutComponent,\n        headerComponent = _a.headerComponent,\n        contentComponent = _a.contentComponent,\n        commandButtonComponent = _a.commandButtonComponent,\n        recurringIconComponent = _a.recurringIconComponent;\n    var _b = this.state,\n        visible = _b.visible,\n        appointmentMeta = _b.appointmentMeta;\n    return createElement(Plugin, {\n      name: \"AppointmentTooltip\",\n      dependencies: pluginDependencies$4\n    }, createElement(Action, {\n      name: TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY,\n      action: this.toggleVisibility\n    }), createElement(Template, {\n      name: \"timeTable\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a, _b) {\n      var formatDate = _a.formatDate,\n          resources = _a.resources,\n          plainResources = _a.plainResources;\n      var finishDeleteAppointment = _b.finishDeleteAppointment,\n          openDeleteConfirmationDialog = _b.openDeleteConfirmationDialog;\n\n      var onDeleteButtonClick = function () {\n        if (openDeleteConfirmationDialog) {\n          openDeleteConfirmationDialog({\n            hideActionName: TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY,\n            appointmentData: appointmentMeta.data\n          });\n        } else {\n          _this.toggleVisibility();\n\n          finishDeleteAppointment(appointmentMeta.data);\n        }\n      };\n\n      return createElement(TemplatePlaceholder, {\n        name: \"tooltip\",\n        params: __assign(__assign({\n          commandButtonComponent: commandButtonComponent,\n          recurringIconComponent: recurringIconComponent,\n          showOpenButton: showOpenButton,\n          showDeleteButton: showDeleteButton,\n          showCloseButton: showCloseButton,\n          headerComponent: headerComponent,\n          contentComponent: contentComponent,\n          appointmentMeta: appointmentMeta,\n          appointmentResources: appointmentMeta ? getAppointmentResources(appointmentMeta.data, resources, plainResources) : [],\n          visible: visible,\n          onHide: _this.toggleVisibility,\n          commandButtonIds: commandButtonIds\n        }, finishDeleteAppointment && {\n          onDeleteButtonClick: onDeleteButtonClick\n        }), {\n          formatDate: formatDate\n        })\n      });\n    })), createElement(Template, {\n      name: \"tooltip\"\n    }, function (params) {\n      return createElement(Layout, __assign({}, params));\n    }), createElement(Template, {\n      name: \"appointment\"\n    }, function (params) {\n      return createElement(TemplatePlaceholder, {\n        params: __assign(__assign({}, params), {\n          onClick: function (_a) {\n            var target = _a.target,\n                data = _a.data;\n            return _this.onAppointmentClick({\n              target: target,\n              data: data\n            });\n          }\n        })\n      });\n    }));\n  };\n\n  AppointmentTooltipBase.defaultProps = {\n    showOpenButton: false,\n    showDeleteButton: false,\n    showCloseButton: false\n  };\n  AppointmentTooltipBase.components = {\n    layoutComponent: 'Layout',\n    headerComponent: 'Header',\n    contentComponent: 'Content',\n    commandButtonComponent: 'CommandButton',\n    recurringIconComponent: 'RecurringIcon'\n  };\n  return AppointmentTooltipBase;\n}(PureComponent); // tslint:disable: max-line-length\n\n/** The AppointmentTooltip plugin allows you to display information about an appointment in a tooltip. */\n\n\nvar AppointmentTooltip = AppointmentTooltipBase;\n\nvar addDoubleClickToCell = function (title, startDate, endDate, allDay, openFormHandler, addAppointment, params) {\n  var newAppointmentData = {\n    title: title,\n    startDate: startDate,\n    endDate: endDate,\n    allDay: allDay\n  };\n  return createElement(TemplatePlaceholder, {\n    params: __assign(__assign({}, params), {\n      onDoubleClick: function () {\n        openFormHandler(newAppointmentData);\n        callActionIfExists(addAppointment, {\n          appointmentData: newAppointmentData\n        });\n      }\n    })\n  });\n};\n\nvar defaultMessages$1 = {\n  allDayLabel: 'All Day',\n  titleLabel: 'Title',\n  commitCommand: 'Save',\n  cancelCommand: 'Cancel',\n  detailsLabel: 'Details',\n  moreInformationLabel: 'More Information',\n  repeatLabel: 'Repeat',\n  notesLabel: 'Notes',\n  never: 'Never',\n  daily: 'Daily',\n  weekly: 'Weekly',\n  monthly: 'Monthly',\n  yearly: 'Yearly',\n  repeatEveryLabel: 'Repeat every',\n  daysLabel: 'day(s)',\n  endRepeatLabel: 'End repeat',\n  onLabel: 'On',\n  afterLabel: 'After',\n  occurrencesLabel: 'occurrence(s)',\n  weeksOnLabel: 'week(s) on:',\n  monthsLabel: 'month(s)',\n  ofEveryMonthLabel: 'of every month',\n  theLabel: 'The',\n  firstLabel: 'First',\n  secondLabel: 'Second',\n  thirdLabel: 'Third',\n  fourthLabel: 'Fourth',\n  lastLabel: 'Last',\n  yearsLabel: 'year(s)',\n  ofLabel: 'of ',\n  everyLabel: 'Every'\n};\n\nvar CommandLayoutPlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"commandLayout\"\n  });\n};\n\nvar BasicLayoutPlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"basicLayout\"\n  });\n};\n\nvar RecurrenceLayoutPlaceholder = function () {\n  return createElement(TemplatePlaceholder, {\n    name: \"recurrenceLayout\"\n  });\n};\n\nvar pluginDependencies$5 = [{\n  name: 'EditingState',\n  optional: true\n}, {\n  name: 'Appointments',\n  optional: true\n}, {\n  name: 'AppointmentTooltip',\n  optional: true\n}, {\n  name: 'EditRecurrenceMenu',\n  optional: true\n}, {\n  name: 'IntegratedEditing',\n  optional: true\n}];\n\nvar prepareChanges = function (appointmentData, editingAppointment, addedAppointment, appointmentChanges, resources, plainResources) {\n  var isNew = !editingAppointment;\n\n  var changedAppointment = __assign(__assign(__assign({}, appointmentData), appointmentChanges), isNew && addedAppointment);\n\n  var appointmentResources = getAppointmentResources(changedAppointment, resources, plainResources);\n  var isFormEdited = isNew || Object.getOwnPropertyNames(appointmentChanges).length !== 0;\n  return {\n    changedAppointment: changedAppointment,\n    appointmentResources: appointmentResources,\n    isNew: isNew,\n    isFormEdited: isFormEdited\n  };\n};\n\nvar isFormFullSize = function (isFormVisisble, changedAppointmentRRule, previousAppointmentRRule) {\n  return !!changedAppointmentRRule || !isFormVisisble && !!previousAppointmentRRule;\n};\n\nvar AppointmentFormBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(AppointmentFormBase, _super);\n\n  function AppointmentFormBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.container = createRef();\n    _this.commitChanges = memoize(function (finishCommitAppointment, commitAddedAppointment, isNew, changedAppointment) {\n      return function () {\n        _this.toggleVisibility();\n\n        if (isNew) {\n          callActionIfExists(commitAddedAppointment, changedAppointment);\n        } else if (finishCommitAppointment) {\n          finishCommitAppointment();\n        }\n\n        _this.setState({\n          previousAppointment: changedAppointment\n        });\n      };\n    });\n    _this.cancelChanges = memoize(function (openCancelConfirmationDialog, isNew, stopEditAppointment, appointmentChanges, changedAppointment, cancelAddedAppointment, cancelChangedAppointment) {\n      return function () {\n        if (openCancelConfirmationDialog && Object.keys(appointmentChanges).length !== 0) {\n          openCancelConfirmationDialog(TOGGLE_APPOINTMENT_FORM_VISIBILITY);\n        } else {\n          if (isNew) {\n            callActionIfExists(cancelAddedAppointment, appointmentChanges);\n          } else {\n            callActionIfExists(stopEditAppointment, appointmentChanges);\n            callActionIfExists(cancelChangedAppointment, appointmentChanges);\n          }\n\n          _this.toggleVisibility();\n        }\n\n        _this.setState({\n          previousAppointment: changedAppointment\n        });\n      };\n    });\n    _this.deleteAppointment = memoize(function (finishDeleteAppointment, appointmentData, openDeleteConfirmationDialog, changedAppointment, cancelAddedAppointment, cancelChangedAppointment, stopEditAppointment, isNew) {\n      return function () {\n        if (openDeleteConfirmationDialog) {\n          openDeleteConfirmationDialog({\n            hideActionName: TOGGLE_APPOINTMENT_FORM_VISIBILITY,\n            appointmentData: changedAppointment\n          });\n        } else {\n          callActionIfExists(finishDeleteAppointment, appointmentData);\n\n          if (isNew) {\n            callActionIfExists(cancelAddedAppointment, appointmentData);\n          } else {\n            callActionIfExists(cancelChangedAppointment, appointmentData);\n            callActionIfExists(stopEditAppointment, appointmentData);\n          }\n\n          _this.toggleVisibility();\n        }\n\n        _this.setState({\n          previousAppointment: changedAppointment\n        });\n      };\n    });\n    _this.changeAppointmentField = memoize(function (isNew, changeAddedAppointment, changeAppointment) {\n      return function (change) {\n        if (change && change.rRule) {\n          _this.setState({\n            previousAppointment: __assign(__assign({}, _this.state.previousAppointment), {\n              rRule: change.rRule\n            })\n          });\n        }\n\n        if (isNew) {\n          callActionIfExists(changeAddedAppointment, {\n            change: change\n          });\n        } else {\n          callActionIfExists(changeAppointment, {\n            change: change\n          });\n        }\n      };\n    });\n    _this.getMessage = memoize(function (menuMessages, messages) {\n      return getMessagesFormatter(__assign(__assign({}, menuMessages), messages));\n    });\n    _this.state = {\n      visible: props.visible,\n      appointmentData: props.appointmentData || {},\n      previousAppointment: props.appointmentData || {}\n    };\n    var stateHelper = createStateHelper(_this, {\n      visible: function () {\n        var onVisibilityChange = _this.props.onVisibilityChange;\n        return onVisibilityChange;\n      },\n      appointmentData: function () {\n        var onAppointmentDataChange = _this.props.onAppointmentDataChange;\n        return onAppointmentDataChange;\n      }\n    });\n\n    var toggleVisibility = function () {\n      var isOpen = _this.state.visible;\n      return !isOpen;\n    };\n\n    _this.toggleVisibility = stateHelper.applyFieldReducer.bind(stateHelper, 'visible', toggleVisibility);\n    _this.setAppointmentData = stateHelper.applyFieldReducer.bind(stateHelper, 'appointmentData', setAppointmentData);\n\n    _this.openFormHandler = function (appointmentData) {\n      _this.setAppointmentData({\n        appointmentData: appointmentData\n      });\n\n      _this.toggleVisibility();\n    };\n\n    return _this;\n  }\n\n  AppointmentFormBase.getDerivedStateFromProps = function (nextProps, prevState) {\n    var _a = nextProps.visible,\n        visible = _a === void 0 ? prevState.visible : _a,\n        _b = nextProps.appointmentData,\n        appointmentData = _b === void 0 ? prevState.appointmentData : _b;\n    return {\n      appointmentData: appointmentData,\n      visible: visible\n    };\n  };\n\n  AppointmentFormBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        Container = _a.containerComponent,\n        Overlay = _a.overlayComponent,\n        Layout = _a.layoutComponent,\n        CommandLayout = _a.commandLayoutComponent,\n        BasicLayout = _a.basicLayoutComponent,\n        RecurrenceLayout = _a.recurrenceLayoutComponent,\n        commandButtonComponent = _a.commandButtonComponent,\n        textEditorComponent = _a.textEditorComponent,\n        labelComponent = _a.labelComponent,\n        dateEditorComponent = _a.dateEditorComponent,\n        booleanEditorComponent = _a.booleanEditorComponent,\n        selectComponent = _a.selectComponent,\n        radioGroupComponent = _a.radioGroupComponent,\n        weeklyRecurrenceSelectorComponent = _a.weeklyRecurrenceSelectorComponent,\n        resourceEditorComponent = _a.resourceEditorComponent,\n        readOnly = _a.readOnly,\n        messages = _a.messages;\n    var _b = this.state,\n        visible = _b.visible,\n        appointmentData = _b.appointmentData,\n        previousAppointment = _b.previousAppointment;\n    var getMessage = this.getMessage(defaultMessages$1, messages);\n    return createElement(Plugin, {\n      name: \"AppointmentForm\",\n      dependencies: pluginDependencies$5\n    }, createElement(Action, {\n      name: TOGGLE_APPOINTMENT_FORM_VISIBILITY,\n      action: this.toggleVisibility\n    }), createElement(Template, {\n      name: \"schedulerRoot\"\n    }, createElement(TemplateConnector, null, function (_a, _b) {\n      var editingAppointment = _a.editingAppointment,\n          addedAppointment = _a.addedAppointment,\n          appointmentChanges = _a.appointmentChanges,\n          resources = _a.resources,\n          plainResources = _a.plainResources;\n      var openCancelConfirmationDialog = _b.openCancelConfirmationDialog,\n          stopEditAppointment = _b.stopEditAppointment,\n          cancelAddedAppointment = _b.cancelAddedAppointment,\n          cancelChangedAppointment = _b.cancelChangedAppointment;\n\n      var _c = prepareChanges(appointmentData, editingAppointment, addedAppointment, appointmentChanges, resources, plainResources),\n          changedAppointment = _c.changedAppointment,\n          isNew = _c.isNew;\n\n      var fullSize = isFormFullSize(visible, changedAppointment.rRule, previousAppointment.rRule);\n\n      var onHideAction = function () {\n        return visible && _this.cancelChanges(openCancelConfirmationDialog, isNew, stopEditAppointment, __assign(__assign({}, appointmentChanges), addedAppointment), changedAppointment, cancelAddedAppointment, cancelChangedAppointment)();\n      };\n\n      return createElement(Fragment, null, createElement(Container, {\n        ref: _this.container\n      }), createElement(Overlay, {\n        visible: visible,\n        onHide: onHideAction,\n        fullSize: fullSize,\n        target: _this.container\n      }, createElement(Layout, {\n        basicLayoutComponent: BasicLayoutPlaceholder,\n        commandLayoutComponent: CommandLayoutPlaceholder,\n        recurrenceLayoutComponent: RecurrenceLayoutPlaceholder,\n        isRecurrence: fullSize\n      })), createElement(TemplatePlaceholder, null));\n    })), createElement(Template, {\n      name: \"commandLayout\"\n    }, createElement(TemplateConnector, null, function (_a, _b) {\n      var editingAppointment = _a.editingAppointment,\n          addedAppointment = _a.addedAppointment,\n          appointmentChanges = _a.appointmentChanges,\n          resources = _a.resources,\n          plainResources = _a.plainResources;\n      var commitAddedAppointment = _b.commitAddedAppointment,\n          finishCommitAppointment = _b.finishCommitAppointment,\n          finishDeleteAppointment = _b.finishDeleteAppointment,\n          stopEditAppointment = _b.stopEditAppointment,\n          cancelAddedAppointment = _b.cancelAddedAppointment,\n          cancelChangedAppointment = _b.cancelChangedAppointment,\n          openCancelConfirmationDialog = _b.openCancelConfirmationDialog,\n          openDeleteConfirmationDialog = _b.openDeleteConfirmationDialog;\n\n      var _c = prepareChanges(appointmentData, editingAppointment, addedAppointment, appointmentChanges, resources, plainResources),\n          isNew = _c.isNew,\n          changedAppointment = _c.changedAppointment,\n          isFormEdited = _c.isFormEdited;\n\n      var isRecurrence = isFormFullSize(visible, changedAppointment.rRule, previousAppointment.rRule);\n      return createElement(CommandLayout, {\n        commandButtonComponent: commandButtonComponent,\n        onCommitButtonClick: _this.commitChanges(finishCommitAppointment, commitAddedAppointment, isNew, changedAppointment),\n        onCancelButtonClick: _this.cancelChanges(openCancelConfirmationDialog, isNew, stopEditAppointment, __assign(__assign({}, appointmentChanges), addedAppointment), changedAppointment, cancelAddedAppointment, cancelChangedAppointment),\n        onDeleteButtonClick: _this.deleteAppointment(finishDeleteAppointment, appointmentData, openDeleteConfirmationDialog, changedAppointment, cancelAddedAppointment, cancelChangedAppointment, stopEditAppointment, isNew),\n        getMessage: getMessage,\n        readOnly: readOnly,\n        fullSize: isRecurrence,\n        disableSaveButton: !isFormEdited,\n        hideDeleteButton: isNew\n      });\n    })), createElement(Template, {\n      name: \"basicLayout\"\n    }, createElement(TemplateConnector, null, function (_a, _b) {\n      var editingAppointment = _a.editingAppointment,\n          addedAppointment = _a.addedAppointment,\n          appointmentChanges = _a.appointmentChanges,\n          locale = _a.locale,\n          resources = _a.resources,\n          plainResources = _a.plainResources;\n      var changeAppointment = _b.changeAppointment,\n          changeAddedAppointment = _b.changeAddedAppointment;\n\n      var _c = prepareChanges(appointmentData, editingAppointment, addedAppointment, appointmentChanges, resources, plainResources),\n          isNew = _c.isNew,\n          changedAppointment = _c.changedAppointment,\n          appointmentResources = _c.appointmentResources;\n\n      return createElement(BasicLayout, {\n        locale: locale,\n        appointmentData: visible ? changedAppointment : previousAppointment,\n        onFieldChange: _this.changeAppointmentField(isNew, changeAddedAppointment, changeAppointment),\n        getMessage: getMessage,\n        readOnly: readOnly,\n        textEditorComponent: textEditorComponent,\n        dateEditorComponent: dateEditorComponent,\n        booleanEditorComponent: booleanEditorComponent,\n        selectComponent: selectComponent,\n        labelComponent: labelComponent,\n        resourceEditorComponent: resourceEditorComponent,\n        fullSize: !changedAppointment.rRule,\n        resources: resources,\n        appointmentResources: appointmentResources\n      });\n    })), createElement(Template, {\n      name: \"recurrenceLayout\"\n    }, createElement(TemplateConnector, null, function (_a, _b) {\n      var editingAppointment = _a.editingAppointment,\n          addedAppointment = _a.addedAppointment,\n          appointmentChanges = _a.appointmentChanges,\n          formatDate = _a.formatDate,\n          locale = _a.locale,\n          firstDayOfWeek = _a.firstDayOfWeek;\n      var changeAddedAppointment = _b.changeAddedAppointment,\n          changeAppointment = _b.changeAppointment;\n\n      var _c = prepareChanges(appointmentData, editingAppointment, addedAppointment, appointmentChanges, undefined, undefined),\n          isNew = _c.isNew,\n          changedAppointment = _c.changedAppointment;\n\n      var isRecurrenceLayoutVisible = isFormFullSize(visible, changedAppointment.rRule, previousAppointment.rRule);\n      var correctedAppointment = !changedAppointment.rRule ? __assign(__assign({}, changedAppointment), {\n        rRule: previousAppointment.rRule\n      }) : changedAppointment;\n      return createElement(RecurrenceLayout, {\n        locale: locale,\n        appointmentData: visible ? correctedAppointment : previousAppointment,\n        onFieldChange: _this.changeAppointmentField(isNew, changeAddedAppointment, changeAppointment),\n        getMessage: getMessage,\n        readOnly: readOnly,\n        formatDate: formatDate,\n        textEditorComponent: textEditorComponent,\n        dateEditorComponent: dateEditorComponent,\n        radioGroupComponent: radioGroupComponent,\n        weeklyRecurrenceSelectorComponent: weeklyRecurrenceSelectorComponent,\n        labelComponent: labelComponent,\n        selectComponent: selectComponent,\n        visible: isRecurrenceLayoutVisible,\n        firstDayOfWeek: firstDayOfWeek\n      });\n    })), createElement(Template, {\n      name: \"tooltip\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (getters, _a) {\n        var startEditAppointment = _a.startEditAppointment;\n        return createElement(TemplatePlaceholder, {\n          params: __assign(__assign({}, params), {\n            onOpenButtonClick: function () {\n              _this.openFormHandler(params.appointmentMeta.data);\n\n              callActionIfExists(startEditAppointment, params.appointmentMeta.data);\n            }\n          })\n        });\n      });\n    }), createElement(Template, {\n      name: \"appointment\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (getters, _a) {\n        var startEditAppointment = _a.startEditAppointment;\n        return createElement(TemplatePlaceholder, {\n          params: __assign(__assign({}, params), {\n            onDoubleClick: function () {\n              _this.openFormHandler(params.data);\n\n              callActionIfExists(startEditAppointment, params.data);\n            }\n          })\n        });\n      });\n    }), createElement(Template, {\n      name: \"cell\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (getters, _a) {\n        var addAppointment = _a.addAppointment;\n        return addDoubleClickToCell(undefined, params.startDate, params.endDate, isAllDayCell(params.startDate, params.endDate), _this.openFormHandler, addAppointment, params);\n      });\n    }), createElement(Template, {\n      name: \"allDayPanelCell\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (getters, _a) {\n        var addAppointment = _a.addAppointment;\n        return addDoubleClickToCell(undefined, params.startDate, params.endDate, true, _this.openFormHandler, addAppointment, params);\n      });\n    }));\n  };\n\n  AppointmentFormBase.defaultProps = {\n    messages: {},\n    readOnly: false,\n    onVisibilityChange: function () {\n      return undefined;\n    },\n    onAppointmentDataChange: function () {\n      return undefined;\n    }\n  };\n  AppointmentFormBase.components = {\n    overlayComponent: 'Overlay',\n    layoutComponent: 'Layout',\n    commandLayoutComponent: 'CommandLayout',\n    commandButtonComponent: 'CommandButton',\n    basicLayoutComponent: 'BasicLayout',\n    textEditorComponent: 'TextEditor',\n    labelComponent: 'Label',\n    dateEditorComponent: 'DateEditor',\n    booleanEditorComponent: 'BooleanEditor',\n    selectComponent: 'Select',\n    recurrenceLayoutComponent: 'RecurrenceLayout',\n    radioGroupComponent: 'RadioGroup',\n    weeklyRecurrenceSelectorComponent: 'WeeklyRecurrenceSelector',\n    resourceEditorComponent: 'ResourceEditor',\n    containerComponent: 'Container'\n  };\n  return AppointmentFormBase;\n}(PureComponent); // tslint:disable-next-line: max-line-length\n\n/** The AppointmentForm plugin renders a form that visualizes appointment’s data and allows a user to modify this data. */\n\n\nvar AppointmentForm = AppointmentFormBase;\n\nvar renderAppointmentItems = function (items, Wrapper, draftData) {\n  return items.length > 0 ? createElement(Wrapper, null, items.map(function (draftAppointment, index) {\n    return createElement(TemplatePlaceholder, {\n      name: \"draftAppointment\",\n      key: index.toString(),\n      params: {\n        data: draftData,\n        draftAppointment: draftAppointment\n      }\n    });\n  })) : null;\n};\n\nvar pluginDependencies$6 = [{\n  name: 'EditingState'\n}, {\n  name: 'Appointments'\n}, {\n  name: 'EditRecurrenceMenu',\n  optional: true\n}, {\n  name: 'IntegratedEditing',\n  optional: true\n}, {\n  name: 'DayView',\n  optional: true\n}, {\n  name: 'WeekView',\n  optional: true\n}, {\n  name: 'MonthView',\n  optional: true\n}, {\n  name: 'AllDayPanel',\n  optional: true\n}];\n\nvar DragDropProviderBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(DragDropProviderBase, _super);\n\n  function DragDropProviderBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.timeTableDraftAppointments = [];\n    _this.allDayDraftAppointments = [];\n    _this.offsetTimeTop = null;\n    _this.appointmentStartTime = null;\n    _this.appointmentEndTime = null;\n    _this.state = {\n      startTime: null,\n      endTime: null,\n      payload: null,\n      isOutside: false\n    };\n\n    _this.handleDrop = function (_a) {\n      var finishCommitAppointment = _a.finishCommitAppointment;\n      return function () {\n        finishCommitAppointment();\n\n        _this.resetCache();\n      };\n    };\n\n    _this.handleLeave = function () {\n      _this.setState({\n        isOutside: true\n      });\n    };\n\n    return _this;\n  }\n\n  DragDropProviderBase.prototype.onPayloadChange = function (actions) {\n    var _this = this;\n\n    return function (args) {\n      return _this.handlePayloadChange(args, actions);\n    };\n  };\n\n  DragDropProviderBase.prototype.calculateNextBoundaries = function (getters, actions) {\n    var _this = this;\n\n    return function (args) {\n      return _this.calculateBoundaries(args, getters, actions);\n    };\n  };\n\n  DragDropProviderBase.prototype.resetCache = function () {\n    this.timeTableDraftAppointments = [];\n    this.allDayDraftAppointments = [];\n    this.offsetTimeTop = null;\n    this.appointmentStartTime = null;\n    this.appointmentEndTime = null;\n    this.setState({\n      payload: null,\n      startTime: null,\n      endTime: null,\n      isOutside: false\n    });\n  };\n\n  DragDropProviderBase.prototype.applyChanges = function (startTime, endTime, payload, startEditAppointment, changeAppointment) {\n    startEditAppointment(payload);\n    changeAppointment({\n      change: __assign({\n        startDate: startTime,\n        endDate: endTime\n      }, payload.allDay && {\n        allDay: undefined\n      })\n    });\n    this.setState({\n      startTime: startTime,\n      endTime: endTime,\n      payload: payload,\n      isOutside: false\n    });\n  };\n\n  DragDropProviderBase.prototype.handlePayloadChange = function (_a, _b) {\n    var payload = _a.payload;\n    var finishCommitAppointment = _b.finishCommitAppointment;\n    var isOutside = this.state.isOutside;\n    if (payload || !isOutside) return;\n    finishCommitAppointment();\n    this.resetCache();\n  };\n\n  DragDropProviderBase.prototype.calculateBoundaries = function (_a, _b, _c) {\n    var payload = _a.payload,\n        clientOffset = _a.clientOffset;\n    var viewCellsData = _b.viewCellsData,\n        startViewDate = _b.startViewDate,\n        endViewDate = _b.endViewDate,\n        excludedDays = _b.excludedDays,\n        timeTableElementsMeta = _b.timeTableElementsMeta,\n        allDayElementsMeta = _b.allDayElementsMeta,\n        scrollingStrategy = _b.scrollingStrategy;\n    var changeAppointment = _c.changeAppointment,\n        startEditAppointment = _c.startEditAppointment;\n\n    if (clientOffset) {\n      autoScroll(clientOffset, scrollingStrategy);\n    }\n\n    var tableCellElementsMeta = timeTableElementsMeta; // AllDayPanel doesn't always exist\n\n    var allDayCellsElementsMeta = allDayElementsMeta && allDayElementsMeta.getCellRects ? allDayElementsMeta : {\n      getCellRects: []\n    };\n    var timeTableIndex = cellIndex(tableCellElementsMeta.getCellRects, clientOffset);\n    var allDayIndex = cellIndex(allDayCellsElementsMeta.getCellRects, clientOffset);\n    if (allDayIndex === -1 && timeTableIndex === -1) return;\n    var targetData = cellData(timeTableIndex, allDayIndex, viewCellsData);\n    var targetType = cellType(targetData);\n    var insidePart = calculateInsidePart(clientOffset.y, tableCellElementsMeta.getCellRects, timeTableIndex);\n    var cellDurationMinutes = intervalDuration(targetData, 'minutes');\n\n    var _d = calculateAppointmentTimeBoundaries(payload, targetData, targetType, cellDurationMinutes, insidePart, this.offsetTimeTop),\n        appointmentStartTime = _d.appointmentStartTime,\n        appointmentEndTime = _d.appointmentEndTime,\n        offsetTimeTop = _d.offsetTimeTop;\n\n    this.appointmentStartTime = appointmentStartTime || this.appointmentStartTime;\n    this.appointmentEndTime = appointmentEndTime || this.appointmentEndTime;\n    this.offsetTimeTop = offsetTimeTop;\n    var _e = this.state,\n        startTime = _e.startTime,\n        endTime = _e.endTime;\n    if (moment(startTime).isSame(this.appointmentStartTime) && moment(endTime).isSame(this.appointmentEndTime)) return;\n    var draftAppointments = [{\n      dataItem: __assign(__assign({}, payload), {\n        startDate: this.appointmentStartTime,\n        endDate: this.appointmentEndTime\n      }),\n      start: this.appointmentStartTime,\n      end: this.appointmentEndTime\n    }];\n\n    var _f = calculateDraftAppointments(allDayIndex, draftAppointments, startViewDate, endViewDate, excludedDays, viewCellsData, allDayCellsElementsMeta, targetType, cellDurationMinutes, tableCellElementsMeta),\n        allDayDraftAppointments = _f.allDayDraftAppointments,\n        timeTableDraftAppointments = _f.timeTableDraftAppointments;\n\n    this.allDayDraftAppointments = allDayDraftAppointments;\n    this.timeTableDraftAppointments = timeTableDraftAppointments;\n    this.applyChanges(this.appointmentStartTime, this.appointmentEndTime, payload, startEditAppointment, changeAppointment);\n  };\n\n  DragDropProviderBase.prototype.render = function () {\n    var _this = this;\n\n    var payload = this.state.payload;\n    var _a = this.props,\n        Container = _a.containerComponent,\n        DraftAppointment = _a.draftAppointmentComponent,\n        SourceAppointment = _a.sourceAppointmentComponent,\n        Resize = _a.resizeComponent,\n        allowDrag = _a.allowDrag,\n        allowResize = _a.allowResize;\n\n    var draftData = __assign(__assign({}, payload), {\n      startDate: this.appointmentStartTime,\n      endDate: this.appointmentEndTime\n    });\n\n    return createElement(Plugin, {\n      name: \"DragDropProvider\",\n      dependencies: pluginDependencies$6\n    }, createElement(Template, {\n      name: \"body\"\n    }, createElement(TemplateConnector, null, function (_a, _b) {\n      var viewCellsData = _a.viewCellsData,\n          startViewDate = _a.startViewDate,\n          endViewDate = _a.endViewDate,\n          excludedDays = _a.excludedDays,\n          timeTableElementsMeta = _a.timeTableElementsMeta,\n          allDayElementsMeta = _a.allDayElementsMeta,\n          scrollingStrategy = _a.scrollingStrategy;\n      var changeAppointment = _b.changeAppointment,\n          startEditAppointment = _b.startEditAppointment,\n          finishCommitAppointment = _b.finishCommitAppointment;\n\n      var calculateBoundariesByMove = _this.calculateNextBoundaries({\n        viewCellsData: viewCellsData,\n        startViewDate: startViewDate,\n        endViewDate: endViewDate,\n        excludedDays: excludedDays,\n        timeTableElementsMeta: timeTableElementsMeta,\n        allDayElementsMeta: allDayElementsMeta,\n        scrollingStrategy: scrollingStrategy\n      }, {\n        changeAppointment: changeAppointment,\n        startEditAppointment: startEditAppointment\n      });\n\n      return createElement(DragDropProvider$1, {\n        onChange: _this.onPayloadChange({\n          finishCommitAppointment: finishCommitAppointment\n        })\n      }, createElement(DropTarget, {\n        onOver: calculateBoundariesByMove,\n        onEnter: calculateBoundariesByMove,\n        onDrop: _this.handleDrop({\n          finishCommitAppointment: finishCommitAppointment\n        }),\n        onLeave: _this.handleLeave\n      }, createElement(TemplatePlaceholder, null)));\n    })), createElement(Template, {\n      name: \"appointmentContent\",\n      predicate: function (_a) {\n        var data = _a.data;\n        return allowDrag(data);\n      }\n    }, function (_a) {\n      var styles = _a.styles,\n          params = __rest(_a, [\"styles\"]);\n\n      return createElement(DragSource, {\n        payload: __assign(__assign({}, params.data), {\n          type: params.type\n        })\n      }, payload && params.data.id === payload.id ? createElement(SourceAppointment, __assign({}, params)) : createElement(TemplatePlaceholder, {\n        params: __assign(__assign({}, params), {\n          draggable: true\n        })\n      }));\n    }), createElement(Template, {\n      name: \"appointmentTop\",\n      predicate: function (params) {\n        return !params.slice && allowResize(params.data);\n      }\n    }, function (_a) {\n      var data = _a.data,\n          type = _a.type;\n      return createElement(DragSource, {\n        payload: __assign(__assign({}, data), {\n          type: RESIZE_TOP,\n          appointmentType: type\n        })\n      }, createElement(Resize, {\n        position: POSITION_START,\n        appointmentType: type\n      }));\n    }), createElement(Template, {\n      name: \"appointmentBottom\",\n      predicate: function (params) {\n        return !params.slice && allowResize(params.data);\n      }\n    }, function (_a) {\n      var data = _a.data,\n          type = _a.type;\n      return createElement(DragSource, {\n        payload: __assign(__assign({}, data), {\n          type: RESIZE_BOTTOM,\n          appointmentType: type\n        })\n      }, createElement(Resize, {\n        position: POSITION_END,\n        appointmentType: type\n      }));\n    }), createElement(Template, {\n      name: \"allDayPanel\"\n    }, createElement(TemplatePlaceholder, null), renderAppointmentItems(this.allDayDraftAppointments, Container, draftData)), createElement(Template, {\n      name: \"timeTable\"\n    }, createElement(TemplatePlaceholder, null), renderAppointmentItems(this.timeTableDraftAppointments, Container, draftData)), createElement(Template, {\n      name: \"draftAppointment\"\n    }, function (_a) {\n      var data = _a.data,\n          draftAppointment = _a.draftAppointment,\n          restParams = __rest(_a, [\"data\", \"draftAppointment\"]);\n\n      return createElement(TemplateConnector, null, function (_a) {\n        var formatDate = _a.formatDate,\n            resources = _a.resources,\n            plainResources = _a.plainResources;\n\n        var dataItem = draftAppointment.dataItem,\n            type = draftAppointment.type,\n            fromPrev = draftAppointment.fromPrev,\n            toNext = draftAppointment.toNext,\n            durationType = draftAppointment.durationType,\n            geometry = __rest(draftAppointment, [\"dataItem\", \"type\", \"fromPrev\", \"toNext\", \"durationType\"]);\n\n        return createElement(DraftAppointment, __assign({\n          data: data,\n          resources: getAppointmentResources(data, resources, plainResources),\n          durationType: durationType,\n          style: getAppointmentStyle(geometry),\n          type: type,\n          fromPrev: fromPrev,\n          toNext: toNext,\n          formatDate: formatDate\n        }, restParams));\n      });\n    }));\n  };\n\n  DragDropProviderBase.components = {\n    containerComponent: 'Container',\n    draftAppointmentComponent: 'DraftAppointment',\n    sourceAppointmentComponent: 'SourceAppointment',\n    resizeComponent: 'Resize'\n  };\n  DragDropProviderBase.defaultProps = {\n    allowDrag: function () {\n      return true;\n    },\n    allowResize: function () {\n      return true;\n    }\n  };\n  return DragDropProviderBase;\n}(PureComponent);\n/** A plugin that enables users to edit appointments via drag-and-drop. */\n\n\nvar DragDropProvider = DragDropProviderBase;\nvar pluginDependencies$7 = [{\n  name: 'Toolbar'\n}, {\n  name: 'ViewState'\n}];\nvar defaultMessages$2 = {\n  today: 'Today'\n};\n\nvar TodayButtonBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(TodayButtonBase, _super);\n\n  function TodayButtonBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TodayButtonBase.prototype.render = function () {\n    var _a = this.props,\n        Button = _a.buttonComponent,\n        messages = _a.messages;\n    var getMessage = getMessagesFormatter(__assign(__assign({}, defaultMessages$2), messages));\n    return createElement(Plugin, {\n      name: \"TodayButton\",\n      dependencies: pluginDependencies$7\n    }, createElement(Template, {\n      name: \"toolbarContent\"\n    }, createElement(TemplateConnector, null, function (getters, _a) {\n      var changeCurrentDate = _a.changeCurrentDate;\n\n      var setCurrentDate = function (nextDate) {\n        return changeCurrentDate({\n          nextDate: nextDate\n        });\n      };\n\n      return createElement(Button, {\n        getMessage: getMessage,\n        setCurrentDate: setCurrentDate\n      });\n    }), createElement(TemplatePlaceholder, null)));\n  };\n\n  TodayButtonBase.components = {\n    buttonComponent: 'Button'\n  };\n  return TodayButtonBase;\n}(PureComponent);\n/** A plugin that renders the Scheduler's button which sets the current date to today's date. */\n\n\nvar TodayButton = TodayButtonBase;\n\nvar _a;\n\nvar pluginDependencies$8 = [{\n  name: 'EditingState'\n}];\nvar defaultAvailableOperations = [{\n  value: RECURRENCE_EDIT_SCOPE.CURRENT\n}, {\n  value: RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING\n}, {\n  value: RECURRENCE_EDIT_SCOPE.ALL\n}];\nvar defaultMessages$3 = (_a = {}, _a[RECURRENCE_EDIT_SCOPE.CURRENT] = 'This appointment', _a[RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING] = 'This and following appointments', _a[RECURRENCE_EDIT_SCOPE.ALL] = 'All appointments', _a.menuEditTitle = 'Edit recurring appointment', _a.menuDeleteTitle = 'Delete recurring appointment', _a.cancelButton = 'Cancel', _a.commitButton = 'OK', _a);\n\nvar EditRecurrenceMenuBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(EditRecurrenceMenuBase, _super);\n\n  function EditRecurrenceMenuBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.modalContainer = createRef();\n    _this.state = {\n      isOpen: false,\n      deletedAppointmentData: null\n    };\n\n    _this.finishCommitAppointment = function (payload, _a, _b) {\n      var editingAppointment = _a.editingAppointment;\n      var commitChangedAppointment = _b.commitChangedAppointment;\n\n      if (editingAppointment && !editingAppointment.rRule) {\n        commitChangedAppointment();\n      } else {\n        _this.setState({\n          isOpen: true,\n          deletedAppointmentData: null\n        });\n      }\n    };\n\n    _this.finishDeleteAppointment = function (payload, getters, _a) {\n      var commitDeletedAppointment = _a.commitDeletedAppointment;\n\n      if (payload && !payload.rRule) {\n        commitDeletedAppointment({\n          deletedAppointmentData: payload\n        });\n      } else {\n        _this.setState({\n          isOpen: true,\n          deletedAppointmentData: payload\n        });\n      }\n    };\n\n    _this.commit = memoize(function (editAction, deleteAction, payload) {\n      return function (type) {\n        if (payload) {\n          deleteAction({\n            deletedAppointmentData: payload,\n            type: type\n          });\n        } else {\n          editAction(type);\n        }\n\n        _this.closeMenu();\n      };\n    });\n\n    _this.closeMenu = function () {\n      _this.setState({\n        isOpen: false,\n        deletedAppointmentData: null\n      });\n    };\n\n    _this.cancelEditing = memoize(function (cancelAction, stopEditAction) {\n      return function () {\n        stopEditAction();\n        cancelAction();\n\n        _this.closeMenu();\n      };\n    });\n    _this.availableOperations = memoize(function (getMessage, menuAvailableOperations) {\n      return menuAvailableOperations.map(function (_a) {\n        var value = _a.value;\n        return {\n          value: value,\n          title: getMessage([value])\n        };\n      });\n    });\n    _this.getMessage = memoize(function (messages, menuMessages) {\n      return getMessagesFormatter(__assign(__assign({}, menuMessages), messages));\n    });\n    return _this;\n  }\n\n  EditRecurrenceMenuBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.state,\n        isOpen = _a.isOpen,\n        deletedAppointmentData = _a.deletedAppointmentData;\n    var _b = this.props,\n        Layout = _b.layoutComponent,\n        Overlay = _b.overlayComponent,\n        Container = _b.containerComponent,\n        buttonComponent = _b.buttonComponent,\n        messages = _b.messages;\n    var getMessage = this.getMessage(messages, defaultMessages$3);\n    var availableOperations = this.availableOperations(getMessage, defaultAvailableOperations);\n    return createElement(Plugin, {\n      name: \"EditRecurrenceMenu\",\n      dependencies: pluginDependencies$8\n    }, createElement(Action, {\n      name: \"finishCommitAppointment\",\n      action: this.finishCommitAppointment\n    }), createElement(Action, {\n      name: \"finishDeleteAppointment\",\n      action: this.finishDeleteAppointment\n    }), createElement(Template, {\n      name: \"schedulerRoot\"\n    }, createElement(TemplatePlaceholder, null), createElement(Container, {\n      ref: this.modalContainer\n    }), createElement(TemplatePlaceholder, {\n      name: \"overlay\"\n    })), createElement(Template, {\n      name: \"overlay\"\n    }, createElement(TemplateConnector, null, function (getters, _a) {\n      var commitChangedAppointment = _a.commitChangedAppointment,\n          commitDeletedAppointment = _a.commitDeletedAppointment,\n          cancelChangedAppointment = _a.cancelChangedAppointment,\n          stopEditAppointment = _a.stopEditAppointment;\n\n      var commit = _this.commit(commitChangedAppointment, commitDeletedAppointment, deletedAppointmentData);\n\n      var cancelEditing = _this.cancelEditing(cancelChangedAppointment, stopEditAppointment);\n\n      return createElement(Overlay, {\n        target: _this.modalContainer,\n        visible: isOpen,\n        onHide: _this.closeMenu\n      }, createElement(Layout, {\n        isDeleting: !!deletedAppointmentData,\n        buttonComponent: buttonComponent,\n        handleClose: cancelEditing,\n        commit: commit,\n        availableOperations: availableOperations,\n        getMessage: getMessage\n      }));\n    })));\n  };\n\n  EditRecurrenceMenuBase.components = {\n    layoutComponent: 'Layout',\n    overlayComponent: 'Overlay',\n    buttonComponent: 'Button',\n    containerComponent: 'Container'\n  };\n  return EditRecurrenceMenuBase;\n}(PureComponent);\n/**\r\n * A plugin that renders the Scheduler's edit menu.\r\n * Should not be used with the `IntegratedEditing` plugin.\r\n */\n\n\nvar EditRecurrenceMenu = EditRecurrenceMenuBase;\nvar pluginDependencies$9 = [{\n  name: 'EditingState'\n}];\n\nvar IntegratedEditingBase =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(IntegratedEditingBase, _super);\n\n  function IntegratedEditingBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.finishCommitAppointment = function (payload, getters, _a) {\n      var commitChangedAppointment = _a.commitChangedAppointment;\n      commitChangedAppointment();\n    };\n\n    _this.finishDeleteAppointment = function (payload, getters, _a) {\n      var commitDeletedAppointment = _a.commitDeletedAppointment;\n      commitDeletedAppointment({\n        deletedAppointmentData: payload\n      });\n    };\n\n    return _this;\n  }\n\n  IntegratedEditingBase.prototype.render = function () {\n    return createElement(Plugin, {\n      name: \"IntegratedEditing\",\n      dependencies: pluginDependencies$9\n    }, createElement(Action, {\n      name: \"finishCommitAppointment\",\n      action: this.finishCommitAppointment\n    }), createElement(Action, {\n      name: \"finishDeleteAppointment\",\n      action: this.finishDeleteAppointment\n    }));\n  };\n\n  IntegratedEditingBase.defaultProps = {\n    totalCount: 0\n  };\n  return IntegratedEditingBase;\n}(PureComponent);\n/** A plugin that allows implementing a editing calculation logic. */\n\n\nvar IntegratedEditing = IntegratedEditingBase;\nvar pluginDependencies$a = [{\n  name: 'Appointments'\n}];\n\nvar ResourcesBase = function (_a) {\n  var data = _a.data,\n      mainResourceName = _a.mainResourceName,\n      palette = _a.palette;\n\n  var convertResources = function (_a) {\n    var resources = _a.resources;\n    return convertResourcesToPlain(resources);\n  };\n\n  return createElement(Plugin, {\n    name: \"Resources\",\n    dependencies: pluginDependencies$a\n  }, createElement(Getter, {\n    name: \"resources\",\n    value: validateResources(data, mainResourceName, palette)\n  }), createElement(Getter, {\n    name: \"plainResources\",\n    computed: convertResources\n  }), createElement(Template, {\n    name: \"appointment\"\n  }, function (params) {\n    return createElement(TemplateConnector, null, function (_a) {\n      var resources = _a.resources,\n          plainResources = _a.plainResources;\n      return createElement(TemplatePlaceholder, {\n        params: __assign(__assign({}, params), {\n          resources: getAppointmentResources(params.data, resources, plainResources)\n        })\n      });\n    });\n  }));\n};\n/** A plugin that manages schedule's resources. */\n\n\nvar Resources = ResourcesBase;\nvar defaultMessages$4 = {\n  discardButton: 'Discard',\n  deleteButton: 'Delete',\n  cancelButton: 'Cancel',\n  confirmDeleteMessage: 'Are you sure you want to delete this appointment?',\n  confirmCancelMessage: 'Discard unsaved changes?'\n};\nvar pluginDependencies$b = [{\n  name: 'EditingState'\n}, {\n  name: 'EditRecurrenceMenu',\n  optional: true\n}, {\n  name: 'IntegratedEditing',\n  optional: true\n}];\nvar ACTION_TYPES = {\n  CANCEL: 'cancel',\n  DELETE: 'delete'\n};\n\nvar ConfirmationDialogBase = function (_a) {\n  var messages = _a.messages,\n      Overlay = _a.overlayComponent,\n      Layout = _a.layoutComponent,\n      Container = _a.containerComponent,\n      buttonComponent = _a.buttonComponent,\n      ignoreDelete = _a.ignoreDelete,\n      ignoreCancel = _a.ignoreCancel;\n  var getMessage = getMessagesFormatter(__assign(__assign({}, defaultMessages$4), messages));\n  var modalContainer = useRef();\n\n  var _b = __read(useState(false), 2),\n      visible = _b[0],\n      setVisible = _b[1];\n\n  var _c = __read(useState(''), 2),\n      actionType = _c[0],\n      setActionType = _c[1];\n\n  var _d = __read(useState(''), 2),\n      hideActionName = _d[0],\n      setHideActionName = _d[1];\n\n  var _e = __read(useState({}), 2),\n      appointmentData = _e[0],\n      setAppointmentData = _e[1];\n\n  var toggleVisibility = useCallback(function () {\n    setVisible(!visible);\n  }, [visible, setVisible]);\n  var confirmCancelChanges = useCallback(function (hideAction) {\n    toggleVisibility();\n    setHideActionName(hideAction);\n    setActionType(ACTION_TYPES.CANCEL);\n  }, [toggleVisibility, setHideActionName, setActionType]);\n  var confirmDelete = useCallback(function (_a) {\n    var hideAction = _a.hideActionName,\n        changedAppointment = _a.appointmentData;\n    toggleVisibility();\n    setHideActionName(hideAction);\n    setActionType(ACTION_TYPES.DELETE);\n    setAppointmentData(changedAppointment);\n  }, [toggleVisibility, setHideActionName, setActionType, setAppointmentData]);\n  var confirmAction = useCallback(function (isNewAppointment, hideEditor, stopEditAppointment, finishDeleteAppointment, cancelAddedAppointment, cancelChangedAppointment) {\n    return function () {\n      hideEditor();\n      toggleVisibility();\n\n      if (isNewAppointment) {\n        cancelAddedAppointment();\n      } else {\n        stopEditAppointment();\n        cancelChangedAppointment();\n      }\n\n      if (actionType === ACTION_TYPES.DELETE) {\n        finishDeleteAppointment(appointmentData);\n      }\n    };\n  }, [toggleVisibility, actionType, appointmentData]);\n  return createElement(Plugin, {\n    name: \"ConfirmationDialog\",\n    dependencies: pluginDependencies$b\n  }, !ignoreCancel && createElement(Action, {\n    name: \"openCancelConfirmationDialog\",\n    action: confirmCancelChanges\n  }), !ignoreDelete && createElement(Action, {\n    name: \"openDeleteConfirmationDialog\",\n    action: confirmDelete\n  }), createElement(Template, {\n    name: \"schedulerRoot\"\n  }, createElement(TemplatePlaceholder, null), createElement(Container, {\n    ref: modalContainer\n  }), createElement(TemplatePlaceholder, {\n    name: \"confirmationDialogOverlay\"\n  })), createElement(Template, {\n    name: \"confirmationDialogOverlay\"\n  }, createElement(TemplateConnector, null, function (_a, actions) {\n    var editingAppointment = _a.editingAppointment;\n    var handleConfirm = confirmAction(!editingAppointment, actions[hideActionName], actions.stopEditAppointment, actions.finishDeleteAppointment, actions.cancelAddedAppointment, actions.cancelChangedAppointment);\n    return createElement(Overlay, {\n      target: modalContainer,\n      visible: visible,\n      onHide: toggleVisibility\n    }, createElement(Layout, {\n      buttonComponent: buttonComponent,\n      handleCancel: toggleVisibility,\n      handleConfirm: handleConfirm,\n      getMessage: getMessage,\n      isDeleting: actionType === ACTION_TYPES.DELETE,\n      appointmentData: appointmentData\n    }));\n  })));\n};\n\nConfirmationDialogBase.components = {\n  overlayComponent: 'Overlay',\n  containerComponent: 'Container',\n  layoutComponent: 'Layout',\n  buttonComponent: 'Button'\n};\nConfirmationDialogBase.defaultProps = {\n  ignoreCancel: false,\n  ignoreDelete: false\n}; // tslint:disable-next-line: max-line-length\n\n/** A plugin that renders the dialog which allows users to confirm or to discard delete and cancel appointment actions. */\n\nvar ConfirmationDialog = ConfirmationDialogBase;\nvar pluginDependencies$c = [{\n  name: 'DayView',\n  optional: true\n}, {\n  name: 'WeekView',\n  optional: true\n}, {\n  name: 'MonthView',\n  optional: true\n}, {\n  name: 'DragDropProvider',\n  optional: true\n}, {\n  name: 'Appointments',\n  optional: true\n}];\n\nvar CurrentTimeIndicatorBase = function (_a) {\n  var indicatorComponent = _a.indicatorComponent,\n      shadePreviousAppointments = _a.shadePreviousAppointments,\n      shadePreviousCells = _a.shadePreviousCells,\n      updateInterval = _a.updateInterval;\n\n  var _b = __read(useState(Date.now), 2),\n      currentTime = _b[0],\n      setCurrentTime = _b[1];\n\n  var _c = __read(useState(undefined), 2),\n      indicatorUpdateTimer = _c[0],\n      setIndicatorUpdateTimer = _c[1];\n\n  useEffect(function () {\n    clearInterval(indicatorUpdateTimer);\n    setIndicatorUpdateTimer(setInterval(function () {\n      setCurrentTime(Date.now());\n    }, updateInterval));\n    return function () {\n      return clearInterval(indicatorUpdateTimer);\n    };\n  }, [updateInterval]);\n  return createElement(Plugin, {\n    name: \"CurrentTimeIndicator\",\n    dependencies: pluginDependencies$c\n  }, createElement(Template, {\n    name: \"cell\",\n    predicate: function (_a) {\n      var otherMonth = _a.otherMonth;\n      return !isMonthCell(otherMonth);\n    }\n  }, function (params) {\n    return createElement(TemplatePlaceholder, {\n      params: __assign(__assign({}, params), {\n        currentTimeIndicatorPosition: getCurrentTimeIndicatorTop(params, currentTime),\n        currentTimeIndicatorComponent: indicatorComponent\n      })\n    });\n  }), createElement(Template, {\n    name: \"cell\"\n  }, function (params) {\n    return createElement(TemplatePlaceholder, {\n      params: __assign(__assign({}, params), {\n        isShaded: isCellShaded(params, currentTime, shadePreviousCells)\n      })\n    });\n  }), createElement(Template, {\n    name: \"appointmentContent\"\n  }, function (params) {\n    return createElement(TemplatePlaceholder, {\n      params: __assign(__assign({}, params), {\n        isShaded: isShadedAppointment(params, currentTime, shadePreviousAppointments)\n      })\n    });\n  }), createElement(Template, {\n    name: \"draftAppointment\"\n  }, function (params) {\n    return createElement(TemplatePlaceholder, {\n      params: __assign(__assign({}, params), {\n        isShaded: isShadedAppointment(params, currentTime, shadePreviousAppointments)\n      })\n    });\n  }));\n};\n\nCurrentTimeIndicatorBase.defaultProps = {\n  updateInterval: 60000,\n  shadePreviousCells: false,\n  shadePreviousAppointments: false\n};\nCurrentTimeIndicatorBase.components = {\n  indicatorComponent: 'Indicator'\n}; // tslint:disable-next-line: max-line-length\n\n/** A plugin that renders the current time indicator and the shading that covers appointments and timetable cells up to the current time. */\n\nvar CurrentTimeIndicator = CurrentTimeIndicatorBase;\nexport { AllDayPanel, AppointmentForm, AppointmentTooltip, Appointments, ConfirmationDialog, CurrentTimeIndicator, DateNavigator, DayView, DragDropProvider, EditRecurrenceMenu, EditingState, IntegratedEditing, MonthView, Resources, Scheduler, TodayButton, Toolbar, ViewState, ViewSwitcher, WeekView };","map":{"version":3,"sources":["../src/plugins/scheduler-core.tsx","../src/scheduler.tsx","../src/plugins/basic-view.tsx","../src/plugins/day-view.tsx","../src/plugins/week-view.tsx","../src/plugins/month-view.tsx","../src/plugins/toolbar.tsx","../src/plugins/date-navigator.tsx","../src/plugins/view-switcher.tsx","../src/plugins/appointments.tsx","../src/plugins/all-day-panel.tsx","../src/plugins/view-state.tsx","../src/plugins/editing-state.tsx","../src/plugins/appointment-tooltip.tsx","../src/plugins/appointment-form.tsx","../src/plugins/drag-drop-provider.tsx","../src/plugins/today-button.tsx","../src/plugins/edit-recurrence-menu.tsx","../src/plugins/integrated-editing.tsx","../src/plugins/resources.tsx","../src/plugins/confirmation-dialog.tsx","../src/plugins/current-time-indicator.tsx"],"names":["React.PureComponent","React.createElement","availableViews","viewCellsDataCore","TYPE","viewCellsDataBaseComputed","DayScaleEmptyCellPlaceholder","TimeScalePlaceholder","pluginDependencies","AppointmentPlaceholder","CellPlaceholder","preCommitChangesBase","defaultMessages","React.createRef","React.Fragment","DragDropProviderCore","React.useRef","React.useCallback","React.useEffect"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  Plugin, Getter, Template, TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport { appointments, formatDateTimeGetter } from '@devexpress/dx-scheduler-core';\nimport { SchedulerProps } from '../types';\nimport { memoize } from '@devexpress/dx-core';\n\nclass SchedulerCoreBase extends React.PureComponent<SchedulerProps> {\n  formatDateTimeGetter = memoize(locale => formatDateTimeGetter(locale));\n\n  render() {\n    const {\n      data,\n      rootComponent: Root,\n      locale,\n      height,\n      firstDayOfWeek,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"SchedulerCore\"\n      >\n        <Getter name=\"appointments\" value={appointments(data)} />\n        <Getter name=\"formatDate\" value={formatDateTimeGetter(locale)} />\n        <Getter name=\"firstDayOfWeek\" value={firstDayOfWeek} />\n        <Getter name=\"locale\" value={locale} />\n        <Template name=\"root\">\n          <Root height={height}>\n            <TemplatePlaceholder name=\"schedulerRoot\" />\n            <TemplatePlaceholder name=\"header\" />\n            <TemplatePlaceholder name=\"body\" />\n            <TemplatePlaceholder name=\"footer\" />\n          </Root>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/***\n * The Scheduler is a root container component designed to process\n * and display the specified data. The Scheduler's functionality\n * (data visualization and processing) is implemented in several plugins\n * specified as child components.\n * */\nexport const SchedulerCore: React.ComponentType<SchedulerProps> = SchedulerCoreBase;\n","import * as React from 'react';\nimport { PluginHost } from '@devexpress/dx-react-core';\nimport { SchedulerCore } from './plugins/scheduler-core';\nimport { SchedulerProps } from './types';\n\nconst SchedulerBase: React.SFC<SchedulerProps> = ({\n  data,\n  rootComponent,\n  children,\n  locale,\n  height,\n  firstDayOfWeek,\n}) => (\n  <PluginHost>\n    <SchedulerCore\n      data={data}\n      rootComponent={rootComponent}\n      locale={locale}\n      height={height}\n      firstDayOfWeek={firstDayOfWeek}\n    />\n    {children}\n  </PluginHost>\n);\n\nSchedulerBase.defaultProps = {\n  data: [],\n  locale: 'en-US',\n  height: 'auto',\n  firstDayOfWeek: 0,\n};\n\n// tslint:disable: max-line-length\n/***\n * The Scheduler is a root container component designed to process\n * and display the specified data. The Scheduler’s functionality\n * (data visualization and processing) is implemented in several plugins specified as child components.\n * */\nexport const Scheduler: React.ComponentType<SchedulerProps> = SchedulerBase;\n","import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  Getter,\n  TemplateConnector,\n  TemplatePlaceholder,\n  ComputedFn,\n} from '@devexpress/dx-react-core';\nimport {\n  computed,\n  getAppointmentStyle,\n  startViewDate as startViewDateCore,\n  endViewDate as endViewDateCore,\n  availableViews as availableViewsCore,\n} from '@devexpress/dx-scheduler-core';\nimport { memoize } from '@devexpress/dx-core';\nimport { BasicViewProps, BasicViewState, ScrollingStrategy, ElementRect } from '../types';\n\nconst CellPlaceholder = params => <TemplatePlaceholder name=\"cell\" params={params} />;\nconst AppointmentPlaceholder = params => <TemplatePlaceholder name=\"appointment\" params={params} />;\n\nconst startViewDateBaseComputed = ({ viewCellsData }) => startViewDateCore(viewCellsData);\nconst endViewDateBaseComputed = ({ viewCellsData }) => endViewDateCore(viewCellsData);\n\nconst TimeTablePlaceholder = () => <TemplatePlaceholder name=\"timeTable\" />;\nconst DayScalePlaceholder = () => <TemplatePlaceholder name=\"dayScale\" />;\n\nclass BasicViewBase extends React.PureComponent<BasicViewProps, BasicViewState> {\n  state = {\n    rects: [],\n    timeTableElementsMeta: {},\n    scrollingStrategy: {\n      topBoundary: 0,\n      bottomBoundary: 0,\n      changeVerticalScroll: () => undefined,\n    },\n  };\n\n  scrollingStrategyComputed = memoize((viewName, scrollingStrategy) => getters =>\n    computed(getters, viewName!, () => scrollingStrategy, getters.scrollingStrategy));\n\n  timeTableElementsMetaComputed = memoize((viewName, timeTableElementsMeta) => getters =>\n    computed(getters, viewName!, () => timeTableElementsMeta, getters.timeTableElementsMeta));\n\n  intervalCountComputed = memoize((viewName, intervalCount) => getters =>\n    computed(getters, viewName!, () => intervalCount, getters.intervalCount));\n\n  excludedDaysComputed = memoize((viewName, excludedDays) => getters => computed(\n    getters, viewName!, () => excludedDays, getters.excludedDays,\n  ));\n\n  availableViewsComputed = memoize((viewName, viewDisplayName) => ({ availableViews }) =>\n    availableViewsCore(availableViews, viewName!, viewDisplayName));\n\n  currentViewComputed = memoize((viewName, viewDisplayName, type) => ({ currentView }) => (\n    currentView && currentView.name !== viewName\n      ? currentView\n      : { name: viewName, type, displayName: viewDisplayName }\n  ));\n\n  endViewDateComputed: ComputedFn = (getters) => {\n    const { name: viewName } = this.props;\n    return computed(\n      getters, viewName!, endViewDateBaseComputed, getters.endViewDate,\n    );\n  }\n\n  startViewDateComputed: ComputedFn = (getters) => {\n    const { name: viewName } = this.props;\n    return computed(\n      getters, viewName!, startViewDateBaseComputed, getters.startViewDate,\n    );\n  }\n\n  viewCellsDataComputed = memoize((\n    viewName, cellDuration, startDayHour, endDayHour, viewCellsDataBaseComputed,\n  ) => getters => computed(\n    getters,\n    viewName,\n    viewCellsDataBaseComputed(cellDuration, startDayHour, endDayHour),\n    getters.viewCellsData,\n  ));\n\n  updateRects = memoize((\n    appointments, startViewDate, endViewDate,\n    viewCellsData, cellDuration, excludedDays, timeTableRects,\n  ) => (cellElementsMeta) => {\n    const rects = timeTableRects(\n      appointments, startViewDate, endViewDate, excludedDays,\n      viewCellsData, cellDuration, cellElementsMeta,\n    );\n\n    this.setState({ rects, timeTableElementsMeta: cellElementsMeta });\n  });\n\n  setScrollingStrategy = (scrollingStrategy: ScrollingStrategy) => {\n    this.setState({ scrollingStrategy });\n  }\n\n  render() {\n    const {\n      name: viewName,\n      intervalCount,\n      displayName,\n      type,\n      excludedDays,\n      cellDuration,\n      startDayHour,\n      endDayHour,\n      viewCellsDataComputed,\n      timeTableRects,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      dayScaleLayoutComponent: DayScale,\n      timeTableCellComponent: TimeTableCell,\n      timeTableLayoutComponent: TimeTableLayout,\n      timeTableRowComponent,\n      appointmentLayerComponent: AppointmentLayer,\n      layoutProps,\n      layoutComponent: Layout,\n    } = this.props;\n    const { rects, timeTableElementsMeta, scrollingStrategy } = this.state;\n    const viewDisplayName = displayName || viewName;\n\n    return (\n      <Plugin name=\"basicView\">\n        <Getter\n          name=\"availableViews\"\n          computed={this.availableViewsComputed(viewName, viewDisplayName)}\n        />\n        <Getter\n          name=\"currentView\"\n          computed={this.currentViewComputed(viewName, viewDisplayName, type)}\n        />\n        <Getter\n          name=\"intervalCount\"\n          computed={this.intervalCountComputed(viewName, intervalCount)}\n        />\n        <Getter name=\"excludedDays\" computed={this.excludedDaysComputed(viewName, excludedDays)} />\n        <Getter\n          name=\"viewCellsData\"\n          computed={this.viewCellsDataComputed(\n            viewName, cellDuration, startDayHour, endDayHour, viewCellsDataComputed,\n          )}\n        />\n        <Getter name=\"startViewDate\" computed={this.startViewDateComputed} />\n        <Getter name=\"endViewDate\" computed={this.endViewDateComputed} />\n\n        <Getter\n          name=\"timeTableElementsMeta\"\n          computed={this.timeTableElementsMetaComputed(viewName, timeTableElementsMeta)}\n        />\n        <Getter\n          name=\"scrollingStrategy\"\n          computed={this.scrollingStrategyComputed(viewName, scrollingStrategy)}\n        />\n\n        <Template name=\"body\">\n          <TemplateConnector>\n            {({ currentView }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              return (\n                <Layout\n                  dayScaleComponent={DayScalePlaceholder}\n                  timeTableComponent={TimeTablePlaceholder}\n                  setScrollingStrategy={this.setScrollingStrategy}\n                  {...layoutProps}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"dayScale\">\n          <TemplateConnector>\n            {({ currentView, viewCellsData, formatDate }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              return (\n                <DayScale\n                  cellComponent={dayScaleCellComponent}\n                  rowComponent={dayScaleRowComponent}\n                  cellsData={viewCellsData}\n                  formatDate={formatDate}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"cell\">\n          {params => (\n            <TemplateConnector>\n              {({ currentView }) => {\n                if (currentView.name !== viewName) return <TemplatePlaceholder params={params} />;\n                return (\n                  <TimeTableCell {...params} />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"timeTable\">\n          <TemplateConnector>\n            {({\n              formatDate,\n              currentView,\n              viewCellsData,\n              appointments, startViewDate, endViewDate,\n              excludedDays: excludedDaysGetter,\n            }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              const setRects = this.updateRects(\n                appointments, startViewDate, endViewDate,\n                viewCellsData, cellDuration, excludedDaysGetter,\n                timeTableRects,\n              );\n\n              return (\n                <>\n                  <TimeTableLayout\n                    cellsData={viewCellsData}\n                    rowComponent={timeTableRowComponent}\n                    cellComponent={CellPlaceholder}\n                    formatDate={formatDate}\n                    setCellElementsMeta={setRects}\n                  />\n                  <AppointmentLayer>\n                    {(rects as ElementRect[]).map(({\n                      dataItem, type: rectType, fromPrev, toNext,\n                      durationType, ...geometry\n                    }, index) => (\n                      <AppointmentPlaceholder\n                        key={index.toString()}\n                        type={rectType}\n                        data={dataItem}\n                        fromPrev={fromPrev}\n                        toNext={toNext}\n                        durationType={durationType}\n                        style={getAppointmentStyle(geometry)}\n                      />\n                    ))}\n                  </AppointmentLayer>\n                </>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\nexport const BasicView: React.ComponentType<BasicViewProps> = BasicViewBase;\n","import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  TemplateConnector,\n  TemplatePlaceholder,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  viewCellsData as viewCellsDataCore, verticalTimeTableRects } from '@devexpress/dx-scheduler-core';\nimport { BasicView } from './basic-view';\nimport { VerticalViewProps } from '../types';\n\nconst TYPE = 'day';\nconst viewCellsDataBaseComputed = (\n  cellDuration, startDayHour, endDayHour,\n) => ({ currentDate, intervalCount }) => {\n  return viewCellsDataCore(\n    currentDate, undefined,\n    intervalCount, [],\n    startDayHour!, endDayHour!, cellDuration!,\n    Date.now(),\n  );\n};\nconst DayScaleEmptyCellPlaceholder = () => <TemplatePlaceholder name=\"dayScaleEmptyCell\" />;\nconst TimeScalePlaceholder = () => <TemplatePlaceholder name=\"timeScale\" />;\n\nclass DayViewBase extends React.PureComponent<VerticalViewProps> {\n  static defaultProps: Partial<VerticalViewProps> = {\n    name: 'Day',\n    startDayHour: 0,\n    endDayHour: 24,\n    cellDuration: 30,\n    intervalCount: 1,\n  };\n\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    layoutContainer: 'LayoutContainer',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    timeScaleLayoutComponent: 'TimeScaleLayout',\n    timeScaleLabelComponent: 'TimeScaleLabel',\n    timeScaleTickCellComponent: 'TimeScaleTickCell',\n    timeScaleTicksRowComponent: 'TimeScaleTicksRow',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow',\n  };\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleEmptyCellComponent: DayScaleEmptyCell,\n      timeScaleLayoutComponent: TimeScale,\n      timeScaleLabelComponent: TimeScaleLabel,\n      timeScaleTickCellComponent,\n      timeScaleTicksRowComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      appointmentLayerComponent,\n      cellDuration,\n      name: viewName,\n      intervalCount,\n      displayName,\n      startDayHour,\n      endDayHour,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"DayView\"\n      >\n        <BasicView\n          viewCellsDataComputed={viewCellsDataBaseComputed}\n          type={TYPE}\n          cellDuration={cellDuration}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          startDayHour={startDayHour}\n          endDayHour={endDayHour}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          timeTableRects={verticalTimeTableRects}\n          layoutComponent={layoutComponent}\n          layoutProps={{\n            dayScaleEmptyCellComponent: DayScaleEmptyCellPlaceholder,\n            timeScaleComponent: TimeScalePlaceholder,\n          }}\n        />\n\n        <Template name=\"dayScaleEmptyCell\">\n          <TemplateConnector>\n            {({ currentView }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              return (\n                <DayScaleEmptyCell />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"timeScale\">\n          <TemplateConnector>\n            {({ currentView, viewCellsData, formatDate }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              return (\n                <TimeScale\n                  labelComponent={TimeScaleLabel}\n                  tickCellComponent={timeScaleTickCellComponent}\n                  rowComponent={timeScaleTicksRowComponent}\n                  cellsData={viewCellsData}\n                  formatDate={formatDate}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin >\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/*** A plugin that renders Scheduler data for a day. This plugin arranges appointments from top to bottom.\n * If their time intervals overlap, their width is decreased and they are placed next to each other.\n * */\nexport const DayView: React.ComponentType<VerticalViewProps> = DayViewBase;\n","import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  TemplateConnector,\n  TemplatePlaceholder,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  viewCellsData as viewCellsDataCore, verticalTimeTableRects } from '@devexpress/dx-scheduler-core';\nimport { BasicView } from './basic-view';\nimport { WeekViewProps } from '../types';\n\nconst DAYS_IN_WEEK = 7;\nconst TYPE = 'week';\nconst viewCellsDataBaseComputed = (\n  cellDuration, startDayHour, endDayHour,\n) => ({ firstDayOfWeek, intervalCount, excludedDays, currentDate }) => {\n  return viewCellsDataCore(\n    currentDate, firstDayOfWeek,\n    intervalCount! * DAYS_IN_WEEK, excludedDays!,\n    startDayHour!, endDayHour!, cellDuration!,\n    Date.now(),\n  );\n};\nconst DayScaleEmptyCellPlaceholder = () => <TemplatePlaceholder name=\"dayScaleEmptyCell\" />;\nconst TimeScalePlaceholder = () => <TemplatePlaceholder name=\"timeScale\" />;\n\nclass WeekViewBase extends React.PureComponent<WeekViewProps> {\n  static defaultProps: Partial<WeekViewProps> = {\n    startDayHour: 0,\n    endDayHour: 24,\n    cellDuration: 30,\n    intervalCount: 1,\n    excludedDays: [],\n    name: 'Week',\n  };\n\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    layoutContainerComponent: 'LayoutContainer',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    timeScaleLayoutComponent: 'TimeScaleLayout',\n    timeScaleLabelComponent: 'TimeScaleLabel',\n    timeScaleTickCellComponent: 'TimeScaleTickCell',\n    timeScaleTicksRowComponent: 'TimeScaleTicksRow',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow',\n  };\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleEmptyCellComponent: DayScaleEmptyCell,\n      timeScaleLayoutComponent: TimeScale,\n      timeScaleLabelComponent: TimeScaleLabel,\n      timeScaleTickCellComponent,\n      timeScaleTicksRowComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      cellDuration,\n      excludedDays,\n      name: viewName,\n      appointmentLayerComponent,\n      intervalCount,\n      displayName,\n      startDayHour,\n      endDayHour,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"WeekView\"\n      >\n        <BasicView\n          viewCellsDataComputed={viewCellsDataBaseComputed}\n          type={TYPE}\n          cellDuration={cellDuration}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          startDayHour={startDayHour}\n          endDayHour={endDayHour}\n          excludedDays={excludedDays}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          timeTableRects={verticalTimeTableRects}\n          layoutComponent={layoutComponent}\n          layoutProps={{\n            timeScaleComponent: TimeScalePlaceholder,\n            dayScaleEmptyCellComponent: DayScaleEmptyCellPlaceholder,\n          }}\n        />\n\n        <Template name=\"dayScaleEmptyCell\">\n          <TemplateConnector>\n            {({ currentView }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              return (\n                <DayScaleEmptyCell />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"timeScale\">\n          <TemplateConnector>\n            {({ currentView, viewCellsData, formatDate }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              return (\n                <TimeScale\n                  labelComponent={TimeScaleLabel}\n                  tickCellComponent={timeScaleTickCellComponent}\n                  rowComponent={timeScaleTicksRowComponent}\n                  cellsData={viewCellsData}\n                  formatDate={formatDate}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable: max-line-length\n/***\n * A plugin that renders the Scheduler's week view. This plugin arranges appointments from top to bottom.\n * If their time intervals overlap, their width is decreased and they are placed next to each other.\n * */\nexport const WeekView: React.ComponentType<WeekViewProps> = WeekViewBase;\n","import * as React from 'react';\nimport { Plugin, PluginComponents } from '@devexpress/dx-react-core';\nimport { monthCellsData, horizontalTimeTableRects } from '@devexpress/dx-scheduler-core';\nimport { BasicView } from './basic-view';\nimport { MonthViewProps } from '../types';\n\nconst timeTableRects = (\n  appointments, startViewDate, endViewDate, excludedDays,\n  viewCellsData, cellDuration, cellElementsMeta,\n) => horizontalTimeTableRects(\n  appointments, startViewDate, endViewDate,\n  viewCellsData, cellElementsMeta,\n);\n\nconst TYPE = 'month';\nconst viewCellsDataBaseComputed = (\n  cellDuration, startDayHour, endDayHour,\n) => ({ currentDate, firstDayOfWeek, intervalCount }) => {\n  return monthCellsData(\n    currentDate, firstDayOfWeek,\n    intervalCount!, Date.now(),\n  );\n};\n\nclass MonthViewBase extends React.PureComponent<MonthViewProps> {\n  static defaultProps: Partial<MonthViewProps> = {\n    intervalCount: 1,\n    name: 'Month',\n  };\n\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow',\n  };\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      appointmentLayerComponent,\n      name: viewName,\n      intervalCount,\n      displayName,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"MonthView\"\n      >\n        <BasicView\n          viewCellsDataComputed={viewCellsDataBaseComputed}\n          type={TYPE}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          timeTableRects={timeTableRects}\n          layoutComponent={layoutComponent}\n        />\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable: max-line-length\n/***\n * A plugin that renders Scheduler data for a month. This plugin arranges appointments from left to right.\n * An appointment's size depends on its duration in days.\n * However, it occupies the entire day cell if an appointment lasts only for several hours or minutes.\n * The time scale and all-day panel are not available in this view.\n * */\nexport const MonthView: React.ComponentType<MonthViewProps> = MonthViewBase;\n","import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  TemplatePlaceholder,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { ToolbarProps } from '../types';\n\nclass ToolbarBase extends React.PureComponent<ToolbarProps> {\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n    flexibleSpaceComponent: 'FlexibleSpace',\n  };\n  render() {\n    const {\n      rootComponent: Root,\n      flexibleSpaceComponent: FlexibleSpaceComponent,\n    } = this.props;\n    return (\n      <Plugin\n        name=\"Toolbar\"\n      >\n        <Template name=\"header\">\n          <Root>\n            <TemplatePlaceholder name=\"toolbarContent\" />\n          </Root>\n          <TemplatePlaceholder />\n        </Template>\n        <Template name=\"toolbarContent\">\n          <FlexibleSpaceComponent />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler's toolbar. */\nexport const Toolbar: React.ComponentType<ToolbarProps> = ToolbarBase;\n","import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  monthCellsData,\n  viewBoundText,\n} from '@devexpress/dx-scheduler-core';\nimport { memoize } from '@devexpress/dx-core';\n\nimport { DateNavigatorProps, DateNavigatorState } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'ViewState' },\n];\n\nconst navigate = (action, currentView, intervalCount) => (direction, nextDate) => action({\n  direction,\n  nextDate,\n  amount: intervalCount,\n  step: currentView.type,\n});\n\nclass DateNavigatorBase extends React.PureComponent<DateNavigatorProps, DateNavigatorState> {\n  target!: React.ReactInstance;\n\n  state = {\n    visible: false,\n  };\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n    overlayComponent: 'Overlay',\n    openButtonComponent: 'OpenButton',\n    navigationButtonComponent: 'NavigationButton',\n    calendarComponent: 'Calendar',\n    calendarRowComponent: 'CalendarRow',\n    calendarCellComponent: 'CalendarCell',\n    calendarHeaderRowComponent: 'CalendarHeaderRow',\n    calendarHeaderCellComponent: 'CalendarHeaderCell',\n    calendarTextComponent: 'CalendarText',\n    calendarNavigatorComponent: 'CalendarNavigator',\n    calendarNavigationButtonComponent: 'CalendarNavigationButton',\n  };\n\n  setRootRef = (target: React.ReactInstance) => {\n    this.target = target;\n  }\n\n  handleVisibilityToggle = () => {\n    this.setState(prevState => ({ visible: !prevState.visible }));\n  }\n\n  handleHide = () => {\n    this.setState({ visible: false });\n  }\n\n  navigateAction = memoize((changeCurrentDate, currentView, intervalCount, navigateAction) =>\n    navigateAction(changeCurrentDate, currentView, intervalCount));\n\n  render() {\n    const {\n      rootComponent: Root,\n      overlayComponent: Overlay,\n      openButtonComponent: OpenButton,\n      navigationButtonComponent: NavigationButton,\n      calendarComponent: Calendar,\n      calendarRowComponent: CalendarRow,\n      calendarCellComponent: CalendarCell,\n      calendarHeaderRowComponent: CalendarHeaderRow,\n      calendarHeaderCellComponent: CalendarHeaderCell,\n      calendarTextComponent: CalendarText,\n      calendarNavigationButtonComponent: CalendarNavigationButton,\n      calendarNavigatorComponent: CalendarNavigator,\n    } = this.props;\n\n    const { visible } = this.state;\n    return (\n      <Plugin\n        name=\"DateNavigator\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplateConnector>\n            {({\n              currentDate,\n              startViewDate,\n              endViewDate,\n              firstDayOfWeek,\n              currentView,\n              intervalCount,\n              formatDate,\n            }, {\n              changeCurrentDate,\n            }) => {\n              const navigateAction = this.navigateAction(\n                changeCurrentDate, currentView, intervalCount, navigate,\n              );\n              const calendarDateChanged = (nextDate) => {\n                navigateAction(undefined, nextDate);\n                this.handleHide();\n              };\n              const navigatorText = viewBoundText(\n                startViewDate,\n                endViewDate,\n                currentView.type,\n                currentDate,\n                intervalCount,\n                formatDate,\n              );\n              return (\n                <>\n                  <Root\n                    navigationButtonComponent={NavigationButton}\n                    openButtonComponent={OpenButton}\n                    navigatorText={navigatorText}\n                    rootRef={this.setRootRef}\n                    onVisibilityToggle={this.handleVisibilityToggle}\n                    onNavigate={navigateAction}\n                  />\n                  <Overlay\n                    visible={visible}\n                    target={this.target}\n                    onHide={this.handleHide}\n                  >\n                    <Calendar\n                      selectedDate={currentDate}\n                      firstDayOfWeek={firstDayOfWeek}\n                      getCells={monthCellsData}\n                      textComponent={CalendarText}\n                      navigationButtonComponent={CalendarNavigationButton}\n                      rowComponent={CalendarRow}\n                      cellComponent={CalendarCell}\n                      headerRowComponent={CalendarHeaderRow}\n                      headerCellComponent={CalendarHeaderCell}\n                      navigatorComponent={CalendarNavigator}\n                      onSelectedDateChange={calendarDateChanged}\n                      formatDate={formatDate}\n                    />\n                  </Overlay>\n                </>\n              );\n            }}\n          </TemplateConnector>\n          <TemplatePlaceholder />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler’s date navigator. */\nexport const DateNavigator: React.ComponentType<DateNavigatorProps> = DateNavigatorBase;\n","import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { ViewSwitcherProps } from '../types/view-switcher';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'ViewState' },\n];\n\nclass ViewSwitcherBase extends React.PureComponent<ViewSwitcherProps> {\n  static components: PluginComponents = {\n    switcherComponent: 'Switcher',\n  };\n\n  render() {\n    const { switcherComponent: Switcher } = this.props;\n\n    return (\n      <Plugin\n        name=\"ViewSwitcher\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({\n              currentView,\n              availableViews,\n            }, {\n              setCurrentViewName,\n            }) => (\n              <Switcher\n                currentView={currentView}\n                availableViews={availableViews}\n                onChange={setCurrentViewName}\n              />\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler's view switcher. */\nexport const ViewSwitcher: React.ComponentType<ViewSwitcherProps> = ViewSwitcherBase;\n","import * as React from 'react';\nimport {\n  Plugin, Template, TemplatePlaceholder, TemplateConnector, PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { createClickHandlers } from '@devexpress/dx-core';\nimport { POSITION_START, POSITION_END } from '@devexpress/dx-scheduler-core';\n\nimport { AppointmentsProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'MonthView', optional: true },\n];\n\nclass AppointmentsBase extends React.PureComponent<AppointmentsProps> {\n  static components: PluginComponents = {\n    splitIndicatorComponent: 'SplitIndicator',\n    containerComponent: 'Container',\n    appointmentComponent: 'Appointment',\n    appointmentContentComponent: 'AppointmentContent',\n    recurringIconComponent: 'RecurringIcon',\n  };\n\n  render() {\n    const {\n      splitIndicatorComponent: SplitIndicator,\n      appointmentComponent: Appointment,\n      appointmentContentComponent: AppointmentContent,\n      containerComponent: Container,\n      recurringIconComponent,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"Appointments\"\n        dependencies={pluginDependencies}\n      >\n        <Template\n          name=\"appointment\"\n        >\n          {({ style, ...params }: any) => (\n            <TemplateConnector>\n              {({ formatDate }) => (\n                <Container style={style}>\n                  <TemplatePlaceholder\n                    name=\"appointmentTop\"\n                    params={{ data: params.data, type: params.type, slice: params.fromPrev }}\n                  />\n                  <TemplatePlaceholder\n                    name=\"appointmentContent\"\n                    params={{ ...params, formatDate }}\n                  />\n                  <TemplatePlaceholder\n                    name=\"appointmentBottom\"\n                    params={{ data: params.data, type: params.type, slice: params.toNext }}\n                  />\n                </Container>\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"appointmentContent\">\n          {({\n            onClick, onDoubleClick, formatDate,\n            data, type, fromPrev, toNext,\n            durationType, resources,\n            ...restParams\n          }: any) => (\n            <Appointment\n              data={data}\n              resources={resources}\n              {...createClickHandlers(onClick, onDoubleClick)}\n              {...restParams}\n            >\n              {fromPrev && <SplitIndicator position={POSITION_START} appointmentType={type} />}\n              <AppointmentContent\n                data={data}\n                type={type}\n                durationType={durationType}\n                recurringIconComponent={recurringIconComponent}\n                formatDate={formatDate}\n                resources={resources}\n              />\n              {toNext && <SplitIndicator position={POSITION_END} appointmentType={type} />}\n            </Appointment>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders appointments. */\nexport const Appointments: React.ComponentType<AppointmentsProps> = AppointmentsBase;\n","import * as React from 'react';\nimport { getMessagesFormatter, memoize } from '@devexpress/dx-core';\nimport {\n  Getter,\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  allDayCells,\n  getAppointmentStyle,\n  allDayRects,\n} from '@devexpress/dx-scheduler-core';\nimport moment from 'moment';\n\nimport { AllDayPanelProps, AllDayPanelState } from '../types';\n\nconst pluginDependencies = [\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n];\nconst defaultMessages = {\n  allDay: 'All Day',\n};\nconst MONTH = 'Month';\nconst AppointmentPlaceholder = params => <TemplatePlaceholder name=\"appointment\" params={params} />;\nconst AllDayPanelPlaceholder = params => <TemplatePlaceholder name=\"allDayPanel\" params={params} />;\nconst CellPlaceholder = params => <TemplatePlaceholder name=\"allDayPanelCell\" params={params} />;\n\nclass AllDayPanelBase extends React.PureComponent<AllDayPanelProps, AllDayPanelState> {\n  state: AllDayPanelState = {\n    rects: [],\n    elementsMeta: {},\n  };\n  static defaultProps: Partial<AllDayPanelProps> = {\n    messages: {},\n  };\n  static components: PluginComponents = {\n    appointmentLayerComponent: 'AppointmentLayer',\n    layoutComponent: 'Layout',\n    layoutContainerComponent: 'LayoutContainer',\n    cellComponent: 'Cell',\n    rowComponent: 'Row',\n    titleCellComponent: 'TitleCell',\n    containerComponent: 'Container',\n  };\n\n  allDayCellsData = memoize(viewCellsData => allDayCells(viewCellsData));\n\n  updateRects = memoize((\n    appointments, startViewDate, excludedDays, endViewDate, viewCellsData,\n  ) => (cellElementsMeta) => {\n    const allDayLeftBound = moment(startViewDate).hours(0).minutes(0).toDate();\n    const allDayRightBound = moment(endViewDate).hours(23).minutes(59).toDate();\n    const rects = allDayRects(\n      appointments, allDayLeftBound, allDayRightBound,\n      excludedDays, viewCellsData, cellElementsMeta,\n    );\n\n    this.setState({ rects, elementsMeta: cellElementsMeta });\n  });\n\n  getMessageFormatter = memoize((messages, allDayPanelDefaultMessages) =>\n    getMessagesFormatter({ ...allDayPanelDefaultMessages, ...messages }));\n\n  render() {\n    const {\n      appointmentLayerComponent: AppointmentLayer,\n      layoutComponent: Layout,\n      cellComponent: Cell,\n      rowComponent,\n      titleCellComponent: TitleCell,\n      containerComponent: Container,\n      messages,\n    } = this.props;\n    const { rects, elementsMeta } = this.state;\n    const getMessage = this.getMessageFormatter(messages, defaultMessages);\n\n    return (\n      <Plugin\n        name=\"AllDayPanel\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"allDayElementsMeta\" value={elementsMeta} />\n\n        <Template name=\"dayScaleEmptyCell\">\n          <TemplateConnector>\n            {({ currentView }) => {\n              if (currentView === MONTH) return null;\n              return (\n                <TitleCell getMessage={getMessage} />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"dayScale\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ currentView }) => {\n              if (currentView === MONTH) return null;\n              return (\n                <Container>\n                  <AllDayPanelPlaceholder />\n                </Container>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"allDayPanel\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({\n              currentView, appointments, startViewDate, formatDate,\n              endViewDate, excludedDays, viewCellsData,\n            }) => {\n              if (currentView.name === MONTH) return null;\n              const setRects = this.updateRects(\n                appointments, startViewDate, excludedDays, endViewDate, viewCellsData,\n              );\n              return (\n                <>\n                  <Layout\n                    cellComponent={CellPlaceholder}\n                    rowComponent={rowComponent}\n                    cellsData={this.allDayCellsData(viewCellsData)}\n                    setCellElementsMeta={setRects}\n                    formatDate={formatDate}\n                  />\n                  <AppointmentLayer>\n                    {rects.map(({\n                      dataItem, type, fromPrev, toNext, ...geometry\n                    }, index) => (\n                      <AppointmentPlaceholder\n                        style={getAppointmentStyle(geometry)}\n                        type={type}\n                        key={index.toString()}\n                        data={dataItem}\n                        fromPrev={fromPrev}\n                        toNext={toNext}\n                      />\n                    ))}\n                  </AppointmentLayer>\n                </>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"allDayPanelCell\">\n          {(params: any) => <Cell {...params} />}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the All Day Panel. */\nexport const AllDayPanel: React.ComponentType<AllDayPanelProps> = AllDayPanelBase;\n","import * as React from 'react';\nimport {\n  Getter,\n  Action,\n  Plugin,\n  createStateHelper,\n  StateHelper,\n  ActionFn,\n} from '@devexpress/dx-react-core';\nimport {\n  changeCurrentDate,\n  setCurrentViewName,\n  ChangeCurrentDatePayload,\n} from '@devexpress/dx-scheduler-core';\nimport { ViewStateProps, ViewStateState } from '../types';\nimport { memoize } from '@devexpress/dx-core';\n\nclass ViewStateBase extends React.PureComponent<ViewStateProps, ViewStateState> {\n  changeCurrentDate: ActionFn<ChangeCurrentDatePayload>;\n  setCurrentViewName: ActionFn<string>;\n\n  static defaultProps: Partial<ViewStateProps> = {\n    defaultCurrentDate: new Date(),\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentDate: props.currentDate || props.defaultCurrentDate,\n      currentViewName: props.currentViewName || props.defaultCurrentViewName,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        currentDate: () => {\n          const { onCurrentDateChange } = this.props;\n          return onCurrentDateChange;\n        },\n        currentViewName: () => {\n          const { onCurrentViewNameChange } = this.props;\n          return onCurrentViewNameChange;\n        },\n      },\n    );\n\n    this.changeCurrentDate = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'currentDate', changeCurrentDate);\n    this.setCurrentViewName = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'currentViewName', setCurrentViewName);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      currentDate = prevState.currentDate,\n      currentViewName = prevState.currentViewName,\n    } = nextProps;\n\n    return {\n      currentDate,\n      currentViewName,\n    };\n  }\n\n  getCurrentViewComputed =  memoize(currentViewName => () => (\n    currentViewName\n    ? { name: currentViewName }\n    : undefined\n  ));\n\n  render() {\n    const { currentDate, currentViewName: stateCurrentViewName } = this.state;\n    return (\n      <Plugin\n        name=\"ViewState\"\n      >\n        <Getter name=\"currentDate\" value={currentDate} />\n        <Getter name=\"currentView\" computed={this.getCurrentViewComputed(stateCurrentViewName)} />\n        <Action name=\"changeCurrentDate\" action={this.changeCurrentDate} />\n        <Action name=\"setCurrentViewName\" action={this.setCurrentViewName} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the view state. It specifies the current date and the displayed view. */\nexport const ViewState: React.ComponentType<ViewStateProps> = ViewStateBase;\n","import * as React from 'react';\nimport {\n  Action, Plugin, Getter, createStateHelper, StateHelper, ComputedFn, ActionFn,\n} from '@devexpress/dx-react-core';\nimport {\n  addAppointment,\n  cancelAddedAppointment,\n  startEditAppointment,\n  stopEditAppointment,\n  changeAppointment,\n  cancelChanges,\n  changedAppointmentById,\n  RECURRENCE_EDIT_SCOPE,\n  preCommitChanges as preCommitChangesBase,\n} from '@devexpress/dx-scheduler-core';\nimport { EditingStateProps, EditingStateState } from '../types';\n\nclass EditingStateBase extends React.PureComponent<EditingStateProps, EditingStateState> {\n  startEditAppointment: ComputedFn;\n  stopEditAppointment: (payload?: any) => void;\n  changeAppointment: ComputedFn;\n  cancelChangedAppointment: (payload?: any) => void;\n  commitChangedAppointment: ActionFn<any>;\n  addAppointment: ComputedFn;\n  changeAddedAppointment: ComputedFn;\n  cancelAddedAppointment: (payload?: any) => void;\n  commitAddedAppointment: ComputedFn;\n  commitDeletedAppointment: ActionFn<any>;\n\n  static defaultProps: Partial<EditingStateProps> = {\n    defaultEditingAppointment: undefined,\n    defaultAppointmentChanges: {},\n    defaultAddedAppointment: {},\n    preCommitChanges: preCommitChangesBase,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editingAppointment: props.editingAppointment || props.defaultEditingAppointment,\n      addedAppointment: props.addedAppointment || props.defaultAddedAppointment,\n      appointmentChanges: props.appointmentChanges || props.defaultAppointmentChanges,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        editingAppointment: () => {\n          const { onEditingAppointmentChange } = this.props;\n          return onEditingAppointmentChange;\n        },\n        addedAppointment: () => {\n          const { onAddedAppointmentChange } = this.props;\n          return onAddedAppointmentChange;\n        },\n        appointmentChanges: () => {\n          const { onAppointmentChangesChange } = this.props;\n          return onAppointmentChangesChange;\n        },\n      },\n    );\n\n    this.startEditAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingAppointment', startEditAppointment);\n    this.stopEditAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingAppointment', stopEditAppointment);\n\n    this.changeAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentChanges', changeAppointment);\n    this.cancelChangedAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentChanges', cancelChanges);\n\n    this.commitChangedAppointment = (type = RECURRENCE_EDIT_SCOPE.CURRENT) => {\n      const { appointmentChanges, editingAppointment } = this.state;\n      const { onCommitChanges, preCommitChanges  } = this.props;\n\n      if (!editingAppointment) return;\n      const changes =  !editingAppointment.rRule\n        ? { changed: changedAppointmentById(appointmentChanges, editingAppointment.id!) }\n        : preCommitChanges!(appointmentChanges, editingAppointment, type);\n\n      onCommitChanges(changes);\n      this.cancelChangedAppointment();\n      this.stopEditAppointment();\n    };\n\n    this.addAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedAppointment', addAppointment);\n    this.changeAddedAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedAppointment', changeAppointment);\n    this.cancelAddedAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedAppointment', cancelAddedAppointment);\n    this.commitAddedAppointment = () => {\n      const { onCommitChanges } = this.props;\n      const { addedAppointment: stateAddedAppointment } = this.state;\n      onCommitChanges({\n        added: stateAddedAppointment,\n      });\n    };\n\n    this.commitDeletedAppointment = ({ deletedAppointmentData, type = 'current' }) => {\n      const { onCommitChanges, preCommitChanges } = this.props;\n\n      const changes = deletedAppointmentData.rRule\n        ? preCommitChanges!(null, deletedAppointmentData, type)\n        : { deleted: deletedAppointmentData.id };\n      onCommitChanges(changes);\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      editingAppointment = prevState.editingAppointment,\n      appointmentChanges = prevState.appointmentChanges,\n      addedAppointment = prevState.addedAppointment,\n    } = nextProps;\n\n    return {\n      editingAppointment,\n      appointmentChanges,\n      addedAppointment,\n    };\n  }\n\n  render() {\n    const { addedAppointment, editingAppointment, appointmentChanges } = this.state;\n\n    return (\n      <Plugin\n        name=\"EditingState\"\n      >\n        <Getter name=\"editingAppointment\" value={editingAppointment} />\n        <Action name=\"startEditAppointment\" action={this.startEditAppointment} />\n        <Action name=\"stopEditAppointment\" action={this.stopEditAppointment} />\n\n        <Getter name=\"appointmentChanges\" value={appointmentChanges} />\n        <Action name=\"changeAppointment\" action={this.changeAppointment} />\n        <Action name=\"cancelChangedAppointment\" action={this.cancelChangedAppointment} />\n        <Action name=\"commitChangedAppointment\" action={this.commitChangedAppointment} />\n\n        <Getter name=\"addedAppointment\" value={addedAppointment} />\n        <Action name=\"addAppointment\" action={this.addAppointment} />\n        <Action name=\"changeAddedAppointment\" action={this.changeAddedAppointment} />\n        <Action name=\"cancelAddedAppointment\" action={this.cancelAddedAppointment} />\n        <Action name=\"commitAddedAppointment\" action={this.commitAddedAppointment} />\n\n        <Action name=\"commitDeletedAppointment\" action={this.commitDeletedAppointment} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the scheduler appointment editing state. */\nexport const EditingState: React.ComponentType<EditingStateProps> = EditingStateBase;\n","import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  createStateHelper,\n  StateHelper,\n  PluginComponents,\n  Action,\n} from '@devexpress/dx-react-core';\nimport {\n  OPEN_COMMAND_BUTTON,\n  CLOSE_COMMAND_BUTTON,\n  DELETE_COMMAND_BUTTON,\n  setAppointmentMeta,\n  AppointmentMeta,\n  TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY,\n  getAppointmentResources,\n} from '@devexpress/dx-scheduler-core';\n\nimport { AppointmentTooltipProps, AppointmentTooltipState, Appointments } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Appointments' },\n  { name: 'EditingState', optional: true },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n];\n\nconst commandButtonIds = {\n  open: OPEN_COMMAND_BUTTON,\n  close: CLOSE_COMMAND_BUTTON,\n  delete: DELETE_COMMAND_BUTTON,\n};\n\nclass AppointmentTooltipBase extends React.PureComponent<\n  AppointmentTooltipProps, AppointmentTooltipState\n> {\n  toggleVisibility: (payload?: any) => void;\n  setAppointmentMeta: (appointmentMeta: AppointmentMeta) => void;\n  onAppointmentClick: (appointmentMeta: AppointmentMeta) => void;\n\n  static defaultProps: Partial<AppointmentTooltipProps> = {\n    showOpenButton: false,\n    showDeleteButton: false,\n    showCloseButton: false,\n  };\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    headerComponent: 'Header',\n    contentComponent: 'Content',\n    commandButtonComponent: 'CommandButton',\n    recurringIconComponent: 'RecurringIcon',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: props.visible,\n      appointmentMeta: props.appointmentMeta,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        visible: () => {\n          const { onVisibilityChange } = this.props;\n          return onVisibilityChange;\n        },\n        appointmentMeta: () => {\n          const { onAppointmentMetaChange } = this.props;\n          return onAppointmentMetaChange;\n        },\n      },\n    );\n\n    const toggleVisibility = () => {\n      const { visible: isOpen } = this.state;\n      return !isOpen;\n    };\n    this.toggleVisibility = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'visible', toggleVisibility);\n    this.setAppointmentMeta = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentMeta', setAppointmentMeta);\n    this.onAppointmentClick = ({ target, data }) => {\n      this.setAppointmentMeta({ target, data });\n      this.toggleVisibility();\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      visible = prevState.visible,\n      appointmentMeta = prevState.appointmentMeta,\n    } = nextProps;\n    return {\n      appointmentMeta,\n      visible,\n    };\n  }\n\n  render() {\n    const {\n      showOpenButton,\n      showDeleteButton,\n      showCloseButton,\n      layoutComponent: Layout,\n      headerComponent,\n      contentComponent,\n      commandButtonComponent,\n      recurringIconComponent,\n    } = this.props;\n    const { visible, appointmentMeta } = this.state;\n\n    return (\n      <Plugin\n        name=\"AppointmentTooltip\"\n        dependencies={pluginDependencies}\n      >\n        <Action name={TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY} action={this.toggleVisibility} />\n\n        <Template name=\"timeTable\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({\n              formatDate, resources, plainResources,\n            }, {\n              finishDeleteAppointment, openDeleteConfirmationDialog,\n            }) => {\n              const onDeleteButtonClick = () => {\n                if (openDeleteConfirmationDialog) {\n                  openDeleteConfirmationDialog({\n                    hideActionName: TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY,\n                    appointmentData: appointmentMeta.data,\n                  });\n                } else {\n                  this.toggleVisibility();\n                  finishDeleteAppointment(appointmentMeta.data);\n                }\n              };\n              return (\n                <TemplatePlaceholder\n                  name=\"tooltip\"\n                  params={{\n                    commandButtonComponent,\n                    recurringIconComponent,\n                    showOpenButton,\n                    showDeleteButton,\n                    showCloseButton,\n                    headerComponent,\n                    contentComponent,\n                    appointmentMeta,\n                    appointmentResources: appointmentMeta ? getAppointmentResources(\n                      appointmentMeta.data as any, resources, plainResources,\n                    ) : [],\n                    visible,\n                    onHide: this.toggleVisibility,\n                    commandButtonIds,\n                    ...finishDeleteAppointment && {\n                      onDeleteButtonClick,\n                    },\n                    formatDate,\n                  }}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"tooltip\">\n          {(params: any) => <Layout {...params} />}\n        </Template>\n\n        <Template name=\"appointment\">\n          {(params: Appointments.AppointmentProps) => (\n            <TemplatePlaceholder\n              params={{\n                ...params,\n                onClick: ({ target, data }) =>\n                 this.onAppointmentClick({ target, data }),\n              }}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable: max-line-length\n/** The AppointmentTooltip plugin allows you to display information about an appointment in a tooltip. */\nexport const AppointmentTooltip: React.ComponentType<AppointmentTooltipProps> = AppointmentTooltipBase;\n","import * as React from 'react';\nimport { getMessagesFormatter, memoize } from '@devexpress/dx-core';\nimport {\n  Plugin,\n  Template,\n  createStateHelper,\n  StateHelper,\n  TemplateConnector,\n  TemplatePlaceholder,\n  PluginComponents,\n  Action,\n} from '@devexpress/dx-react-core';\nimport {\n  setAppointmentData,\n  isAllDayCell,\n  callActionIfExists,\n  AppointmentModel,\n  TOGGLE_APPOINTMENT_FORM_VISIBILITY,\n  getAppointmentResources,\n  ValidResourceInstance,\n} from '@devexpress/dx-scheduler-core';\n\nimport {\n  AppointmentFormProps, AppointmentFormState, AppointmentTooltip, Appointments,\n} from '../types';\n\nconst addDoubleClickToCell = (\n  title, startDate, endDate, allDay, openFormHandler, addAppointment, params,\n) => {\n  const newAppointmentData = { title, startDate, endDate, allDay };\n  return (\n    <TemplatePlaceholder\n      params={{\n        ...params,\n        onDoubleClick: () => {\n          openFormHandler(newAppointmentData);\n          callActionIfExists(addAppointment,\n            { appointmentData: newAppointmentData });\n        },\n      }}\n    />\n  );\n};\n\nconst defaultMessages = {\n  allDayLabel: 'All Day',\n  titleLabel: 'Title',\n  commitCommand: 'Save',\n  cancelCommand: 'Cancel',\n  detailsLabel: 'Details',\n  moreInformationLabel: 'More Information',\n  repeatLabel: 'Repeat',\n  notesLabel: 'Notes',\n  never: 'Never',\n  daily: 'Daily',\n  weekly: 'Weekly',\n  monthly: 'Monthly',\n  yearly: 'Yearly',\n  repeatEveryLabel: 'Repeat every',\n  daysLabel: 'day(s)',\n  endRepeatLabel: 'End repeat',\n  onLabel: 'On',\n  afterLabel: 'After',\n  occurrencesLabel: 'occurrence(s)',\n  weeksOnLabel: 'week(s) on:',\n  monthsLabel: 'month(s)',\n  ofEveryMonthLabel: 'of every month',\n  theLabel: 'The',\n  firstLabel: 'First',\n  secondLabel: 'Second',\n  thirdLabel: 'Third',\n  fourthLabel: 'Fourth',\n  lastLabel: 'Last',\n  yearsLabel: 'year(s)',\n  ofLabel: 'of ',\n  everyLabel: 'Every',\n};\n\nconst CommandLayoutPlaceholder = () => <TemplatePlaceholder name=\"commandLayout\" />;\nconst BasicLayoutPlaceholder = () => <TemplatePlaceholder name=\"basicLayout\" />;\nconst RecurrenceLayoutPlaceholder = () => <TemplatePlaceholder name=\"recurrenceLayout\" />;\n\nconst pluginDependencies = [\n  { name: 'EditingState', optional: true },\n  { name: 'Appointments', optional: true },\n  { name: 'AppointmentTooltip', optional: true },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n];\n\nconst prepareChanges = (\n  appointmentData, editingAppointment,\n  addedAppointment, appointmentChanges,\n  resources, plainResources,\n) => {\n  const isNew = !editingAppointment;\n  const changedAppointment = {\n    ...appointmentData,\n    ...appointmentChanges,\n    ...isNew && addedAppointment,\n  };\n  const appointmentResources = getAppointmentResources(\n    changedAppointment, resources, plainResources,\n  );\n  const isFormEdited = isNew || Object.getOwnPropertyNames(appointmentChanges).length !== 0;\n  return { changedAppointment, appointmentResources, isNew, isFormEdited };\n};\n\nconst isFormFullSize = (\n  isFormVisisble, changedAppointmentRRule, previousAppointmentRRule,\n) => !!changedAppointmentRRule || (!isFormVisisble && !!previousAppointmentRRule);\n\nclass AppointmentFormBase extends React.PureComponent<AppointmentFormProps, AppointmentFormState> {\n  toggleVisibility: (payload?: any) => void;\n  setAppointmentData: (payload: any) => void;\n  openFormHandler: (payload: AppointmentModel) => void;\n  container = React.createRef();\n\n  static defaultProps: Partial<AppointmentFormProps> = {\n    messages: {},\n    readOnly: false,\n    onVisibilityChange: () => undefined,\n    onAppointmentDataChange: () => undefined,\n  };\n  static components: PluginComponents = {\n    overlayComponent: 'Overlay',\n    layoutComponent: 'Layout',\n    commandLayoutComponent: 'CommandLayout',\n    commandButtonComponent: 'CommandButton',\n    basicLayoutComponent: 'BasicLayout',\n    textEditorComponent: 'TextEditor',\n    labelComponent: 'Label',\n    dateEditorComponent: 'DateEditor',\n    booleanEditorComponent: 'BooleanEditor',\n    selectComponent: 'Select',\n    recurrenceLayoutComponent: 'RecurrenceLayout',\n    radioGroupComponent: 'RadioGroup',\n    weeklyRecurrenceSelectorComponent: 'WeeklyRecurrenceSelector',\n    resourceEditorComponent: 'ResourceEditor',\n    containerComponent: 'Container',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: props.visible,\n      appointmentData: props.appointmentData || {},\n      previousAppointment: props.appointmentData || {},\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        visible: () => {\n          const { onVisibilityChange } = this.props;\n          return onVisibilityChange;\n        },\n        appointmentData: () => {\n          const { onAppointmentDataChange } = this.props;\n          return onAppointmentDataChange;\n        },\n      },\n    );\n\n    const toggleVisibility = () => {\n      const { visible: isOpen } = this.state;\n      return !isOpen;\n    };\n    this.toggleVisibility = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'visible', toggleVisibility);\n    this.setAppointmentData = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentData', setAppointmentData);\n\n    this.openFormHandler = (appointmentData) => {\n      this.setAppointmentData({ appointmentData });\n      this.toggleVisibility();\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      visible = prevState.visible,\n      appointmentData = prevState.appointmentData,\n    } = nextProps;\n    return {\n      appointmentData,\n      visible,\n    };\n  }\n\n  commitChanges = memoize((\n    finishCommitAppointment, commitAddedAppointment, isNew, changedAppointment,\n  ) => () =>  {\n    this.toggleVisibility();\n    if (isNew) {\n      callActionIfExists(commitAddedAppointment, changedAppointment);\n    } else if (finishCommitAppointment) {\n      finishCommitAppointment();\n    }\n    this.setState({ previousAppointment: changedAppointment });\n  });\n\n  cancelChanges = memoize((\n    openCancelConfirmationDialog, isNew, stopEditAppointment, appointmentChanges,\n    changedAppointment, cancelAddedAppointment, cancelChangedAppointment,\n  ) => () => {\n    if (openCancelConfirmationDialog && Object.keys(appointmentChanges).length !== 0) {\n      openCancelConfirmationDialog(TOGGLE_APPOINTMENT_FORM_VISIBILITY);\n    } else {\n      if (isNew) {\n        callActionIfExists(cancelAddedAppointment, appointmentChanges);\n      } else {\n        callActionIfExists(stopEditAppointment, appointmentChanges);\n        callActionIfExists(cancelChangedAppointment, appointmentChanges);\n      }\n      this.toggleVisibility();\n    }\n    this.setState({ previousAppointment: changedAppointment });\n  });\n\n  deleteAppointment = memoize((\n    finishDeleteAppointment, appointmentData, openDeleteConfirmationDialog,\n    changedAppointment, cancelAddedAppointment, cancelChangedAppointment,\n    stopEditAppointment, isNew,\n  ) => () => {\n    if (openDeleteConfirmationDialog) {\n      openDeleteConfirmationDialog({\n        hideActionName: TOGGLE_APPOINTMENT_FORM_VISIBILITY, appointmentData: changedAppointment,\n      });\n    } else {\n      callActionIfExists(finishDeleteAppointment, appointmentData);\n      if (isNew) {\n        callActionIfExists(cancelAddedAppointment, appointmentData);\n      } else {\n        callActionIfExists(cancelChangedAppointment, appointmentData);\n        callActionIfExists(stopEditAppointment, appointmentData);\n      }\n      this.toggleVisibility();\n    }\n    this.setState({ previousAppointment: changedAppointment });\n  });\n\n  changeAppointmentField = memoize((isNew, changeAddedAppointment, changeAppointment) =>\n    (change) => {\n      if (change && change.rRule) {\n        this.setState({ previousAppointment: {\n          ...this.state.previousAppointment, rRule: change.rRule,\n        }});\n      }\n      if (isNew) {\n        callActionIfExists(changeAddedAppointment, { change });\n      } else {\n        callActionIfExists(changeAppointment, { change });\n      }\n    },\n  );\n\n  getMessage = memoize((menuMessages, messages) =>\n    getMessagesFormatter({ ...menuMessages, ...messages }));\n\n  render() {\n    const {\n      containerComponent: Container,\n      overlayComponent: Overlay,\n      layoutComponent: Layout,\n      commandLayoutComponent: CommandLayout,\n      basicLayoutComponent: BasicLayout,\n      recurrenceLayoutComponent: RecurrenceLayout,\n      commandButtonComponent,\n      textEditorComponent,\n      labelComponent,\n      dateEditorComponent,\n      booleanEditorComponent,\n      selectComponent,\n      radioGroupComponent,\n      weeklyRecurrenceSelectorComponent,\n      resourceEditorComponent,\n      readOnly,\n      messages,\n    } = this.props;\n    const { visible, appointmentData, previousAppointment } = this.state;\n    const getMessage = this.getMessage(defaultMessages, messages);\n    return (\n      <Plugin\n        name=\"AppointmentForm\"\n        dependencies={pluginDependencies}\n      >\n        <Action name={TOGGLE_APPOINTMENT_FORM_VISIBILITY} action={this.toggleVisibility} />\n\n        <Template name=\"schedulerRoot\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n\n              resources,\n              plainResources,\n            }, {\n              openCancelConfirmationDialog,\n\n              stopEditAppointment,\n              cancelAddedAppointment,\n              cancelChangedAppointment,\n            }) => {\n              const { changedAppointment, isNew } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                resources, plainResources,\n              );\n              const fullSize = isFormFullSize(\n                visible, changedAppointment.rRule, previousAppointment.rRule,\n              );\n              const onHideAction = () => visible && this.cancelChanges(\n                openCancelConfirmationDialog, isNew, stopEditAppointment,\n                { ...appointmentChanges, ...addedAppointment }, changedAppointment,\n                cancelAddedAppointment, cancelChangedAppointment,\n              )();\n\n              return (\n                <React.Fragment>\n                  <Container ref={this.container} />\n                  <Overlay\n                    visible={visible}\n                    onHide={onHideAction}\n                    fullSize={fullSize}\n                    target={this.container}\n                  >\n                    <Layout\n                      basicLayoutComponent={BasicLayoutPlaceholder}\n                      commandLayoutComponent={CommandLayoutPlaceholder}\n                      recurrenceLayoutComponent={RecurrenceLayoutPlaceholder}\n                      isRecurrence={fullSize}\n                    />\n                  </Overlay>\n                  <TemplatePlaceholder />\n                </React.Fragment>);\n            }}\n          </TemplateConnector>\n        </Template>\n        <Template name=\"commandLayout\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n\n              resources,\n              plainResources,\n            }, {\n              commitAddedAppointment,\n              finishCommitAppointment,\n              finishDeleteAppointment,\n\n              stopEditAppointment,\n              cancelAddedAppointment,\n              cancelChangedAppointment,\n\n              openCancelConfirmationDialog,\n              openDeleteConfirmationDialog,\n            }) => {\n              const { isNew, changedAppointment, isFormEdited } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                resources, plainResources,\n              );\n              const isRecurrence = isFormFullSize(\n                visible, changedAppointment.rRule, previousAppointment.rRule,\n              );\n              return (\n                <CommandLayout\n                  commandButtonComponent={commandButtonComponent}\n                  onCommitButtonClick={this.commitChanges(\n                    finishCommitAppointment, commitAddedAppointment, isNew, changedAppointment,\n                  )}\n                  onCancelButtonClick={this.cancelChanges(\n                    openCancelConfirmationDialog, isNew, stopEditAppointment,\n                    { ...appointmentChanges, ...addedAppointment }, changedAppointment,\n                    cancelAddedAppointment, cancelChangedAppointment,\n                  )}\n                  onDeleteButtonClick={this.deleteAppointment(\n                    finishDeleteAppointment, appointmentData, openDeleteConfirmationDialog,\n                    changedAppointment, cancelAddedAppointment, cancelChangedAppointment,\n                    stopEditAppointment, isNew,\n                  )}\n                  getMessage={getMessage}\n                  readOnly={readOnly}\n                  fullSize={isRecurrence}\n                  disableSaveButton={!isFormEdited}\n                  hideDeleteButton={isNew}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n        <Template name=\"basicLayout\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n              locale,\n\n              resources,\n              plainResources,\n            }, {\n              changeAppointment,\n              changeAddedAppointment,\n            }) => {\n              const { isNew, changedAppointment, appointmentResources } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                resources, plainResources,\n              );\n              return (\n                <BasicLayout\n                  locale={locale}\n                  appointmentData={visible ? changedAppointment : previousAppointment}\n                  onFieldChange={this.changeAppointmentField(\n                    isNew, changeAddedAppointment, changeAppointment,\n                  )}\n                  getMessage={getMessage}\n                  readOnly={readOnly}\n                  textEditorComponent={textEditorComponent}\n                  dateEditorComponent={dateEditorComponent}\n                  booleanEditorComponent={booleanEditorComponent}\n                  selectComponent={selectComponent}\n                  labelComponent={labelComponent}\n                  resourceEditorComponent={resourceEditorComponent}\n                  fullSize={!changedAppointment.rRule}\n                  resources={resources}\n                  appointmentResources={appointmentResources as Array<ValidResourceInstance>}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"recurrenceLayout\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n              formatDate,\n              locale,\n              firstDayOfWeek,\n            }, {\n              changeAddedAppointment,\n              changeAppointment,\n            }) => {\n              const { isNew, changedAppointment } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                undefined, undefined,\n              );\n              const isRecurrenceLayoutVisible = isFormFullSize(\n                visible, changedAppointment.rRule, previousAppointment.rRule,\n              );\n              const correctedAppointment = !changedAppointment.rRule\n                ? { ...changedAppointment, rRule: previousAppointment.rRule } : changedAppointment;\n\n              return (\n                <RecurrenceLayout\n                  locale={locale}\n                  appointmentData={visible ? correctedAppointment : previousAppointment}\n                  onFieldChange={this.changeAppointmentField(\n                    isNew, changeAddedAppointment, changeAppointment,\n                  )}\n                  getMessage={getMessage}\n                  readOnly={readOnly}\n                  formatDate={formatDate}\n                  textEditorComponent={textEditorComponent}\n                  dateEditorComponent={dateEditorComponent}\n                  radioGroupComponent={radioGroupComponent}\n                  weeklyRecurrenceSelectorComponent={weeklyRecurrenceSelectorComponent}\n                  labelComponent={labelComponent}\n                  selectComponent={selectComponent}\n                  visible={isRecurrenceLayoutVisible}\n                  firstDayOfWeek={firstDayOfWeek}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"tooltip\">\n          {(params: AppointmentTooltip.LayoutProps) => (\n            <TemplateConnector>\n              {(getters, { startEditAppointment }) => (\n                <TemplatePlaceholder\n                  params={{\n                    ...params,\n                    onOpenButtonClick: () => {\n                      this.openFormHandler(params.appointmentMeta!.data);\n                      callActionIfExists(startEditAppointment, params.appointmentMeta!.data);\n                    },\n                  }}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"appointment\">\n          {(params: Appointments.AppointmentProps) => (\n            <TemplateConnector>\n              {(getters, { startEditAppointment }) => (\n                <TemplatePlaceholder\n                  params={{\n                    ...params,\n                    onDoubleClick: () => {\n                      this.openFormHandler(params.data);\n                      callActionIfExists(startEditAppointment, params.data);\n                    },\n                  }}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"cell\">\n          {(params: any) => (\n            <TemplateConnector>\n              {(getters, { addAppointment }) => addDoubleClickToCell(\n                undefined, params.startDate, params.endDate,\n                isAllDayCell(params.startDate, params.endDate),\n                this.openFormHandler, addAppointment, params,\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"allDayPanelCell\">\n          {(params: any) => (\n            <TemplateConnector>\n              {(getters, { addAppointment }) => addDoubleClickToCell(\n                undefined, params.startDate, params.endDate,\n                true, this.openFormHandler, addAppointment, params,\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin >\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/** The AppointmentForm plugin renders a form that visualizes appointment’s data and allows a user to modify this data. */\nexport const AppointmentForm: React.ComponentType<AppointmentFormProps> = AppointmentFormBase;\n","import * as React from 'react';\nimport moment from 'moment';\nimport {\n  Plugin, Template, TemplatePlaceholder,\n  TemplateConnector, DropTarget, DragSource,\n  DragDropProvider as DragDropProviderCore,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  cellIndex,\n  cellData,\n  cellType,\n  getAppointmentStyle,\n  intervalDuration,\n  autoScroll,\n  calculateAppointmentTimeBoundaries,\n  calculateInsidePart,\n  calculateDraftAppointments,\n  RESIZE_TOP,\n  RESIZE_BOTTOM,\n  POSITION_START,\n  POSITION_END,\n  getAppointmentResources,\n} from '@devexpress/dx-scheduler-core';\nimport { DragDropProviderProps, DragDropProviderState } from '../types';\n\nconst renderAppointmentItems = (items, Wrapper, draftData) => (\n  items.length > 0 ? (\n    <Wrapper>\n      {items.map((draftAppointment, index) => (\n        <TemplatePlaceholder\n          name=\"draftAppointment\"\n          key={index.toString()}\n          params={{ data: draftData, draftAppointment }}\n        />\n      ))}\n    </Wrapper>\n  ) : (\n    null\n  )\n);\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'Appointments' },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'MonthView', optional: true },\n  { name: 'AllDayPanel', optional: true },\n];\n\nclass DragDropProviderBase extends React.PureComponent<\n  DragDropProviderProps, DragDropProviderState\n> {\n  timeTableDraftAppointments: any = [];\n  allDayDraftAppointments: any = [];\n  offsetTimeTop: number | null = null;\n  appointmentStartTime: any = null;\n  appointmentEndTime: any = null;\n\n  state: DragDropProviderState = {\n    startTime: null,\n    endTime: null,\n    payload: null,\n    isOutside: false,\n  };\n  static components: PluginComponents = {\n    containerComponent: 'Container',\n    draftAppointmentComponent: 'DraftAppointment',\n    sourceAppointmentComponent: 'SourceAppointment',\n    resizeComponent: 'Resize',\n  };\n  static defaultProps: Partial<DragDropProviderProps> = {\n    allowDrag: () => true,\n    allowResize: () => true,\n  };\n\n  onPayloadChange(actions) {\n    return args => this.handlePayloadChange(args, actions);\n  }\n\n  calculateNextBoundaries(getters, actions) {\n    return args => this.calculateBoundaries(args, getters, actions);\n  }\n\n  resetCache() {\n    this.timeTableDraftAppointments = [];\n    this.allDayDraftAppointments = [];\n    this.offsetTimeTop = null;\n    this.appointmentStartTime = null;\n    this.appointmentEndTime = null;\n\n    this.setState({\n      payload: null,\n      startTime: null,\n      endTime: null,\n      isOutside: false,\n    });\n  }\n\n  applyChanges(startTime, endTime, payload, startEditAppointment, changeAppointment) {\n    startEditAppointment(payload);\n    changeAppointment({\n      change: {\n        startDate: startTime,\n        endDate: endTime,\n        ...payload.allDay && { allDay: undefined },\n      },\n    });\n    this.setState({ startTime, endTime, payload, isOutside: false });\n  }\n\n  handlePayloadChange({ payload }, { finishCommitAppointment }) {\n    const { isOutside } = this.state;\n    if (payload || !isOutside) return;\n\n    finishCommitAppointment();\n    this.resetCache();\n  }\n\n  calculateBoundaries(\n    { payload, clientOffset },\n    {\n      viewCellsData, startViewDate, endViewDate, excludedDays,\n      timeTableElementsMeta, allDayElementsMeta, scrollingStrategy,\n    },\n    { changeAppointment, startEditAppointment },\n  ) {\n    if (clientOffset) {\n      autoScroll(clientOffset, scrollingStrategy);\n    }\n\n    const tableCellElementsMeta = timeTableElementsMeta;\n\n    // AllDayPanel doesn't always exist\n    const allDayCellsElementsMeta = allDayElementsMeta && allDayElementsMeta.getCellRects\n      ? allDayElementsMeta\n      : { getCellRects: [] };\n    const timeTableIndex = cellIndex(tableCellElementsMeta.getCellRects, clientOffset);\n    const allDayIndex = cellIndex(allDayCellsElementsMeta.getCellRects, clientOffset);\n\n    if (allDayIndex === -1 && timeTableIndex === -1) return;\n\n    const targetData = cellData(timeTableIndex, allDayIndex, viewCellsData);\n    const targetType = cellType(targetData);\n    const insidePart = calculateInsidePart(\n      clientOffset.y, tableCellElementsMeta.getCellRects, timeTableIndex,\n    );\n    const cellDurationMinutes = intervalDuration(targetData, 'minutes');\n\n    const {\n      appointmentStartTime, appointmentEndTime, offsetTimeTop,\n    } = calculateAppointmentTimeBoundaries(\n      payload, targetData, targetType, cellDurationMinutes,\n      insidePart, this.offsetTimeTop!,\n    );\n\n    this.appointmentStartTime = appointmentStartTime || this.appointmentStartTime;\n    this.appointmentEndTime = appointmentEndTime || this.appointmentEndTime;\n    this.offsetTimeTop = offsetTimeTop!;\n\n    const { startTime, endTime } = this.state;\n    if (moment(startTime!).isSame(this.appointmentStartTime)\n      && moment(endTime!).isSame(this.appointmentEndTime)) return;\n\n    const draftAppointments = [{\n      dataItem: {\n        ...payload,\n        startDate: this.appointmentStartTime,\n        endDate: this.appointmentEndTime,\n      },\n      start: this.appointmentStartTime,\n      end: this.appointmentEndTime,\n    }];\n\n    const {\n      allDayDraftAppointments,\n      timeTableDraftAppointments,\n    } = calculateDraftAppointments(\n      allDayIndex, draftAppointments, startViewDate,\n      endViewDate, excludedDays, viewCellsData, allDayCellsElementsMeta,\n      targetType, cellDurationMinutes, tableCellElementsMeta,\n    );\n    this.allDayDraftAppointments = allDayDraftAppointments;\n    this.timeTableDraftAppointments = timeTableDraftAppointments;\n\n    this.applyChanges(\n      this.appointmentStartTime, this.appointmentEndTime,\n      payload, startEditAppointment, changeAppointment,\n    );\n  }\n\n  handleDrop = ({ finishCommitAppointment }) => () => {\n    finishCommitAppointment();\n    this.resetCache();\n  }\n\n  handleLeave = () => {\n    this.setState({ isOutside: true });\n  }\n\n  render() {\n    const { payload } = this.state;\n    const {\n      containerComponent: Container,\n      draftAppointmentComponent: DraftAppointment,\n      sourceAppointmentComponent: SourceAppointment,\n      resizeComponent: Resize,\n      allowDrag,\n      allowResize,\n    } = this.props;\n\n    const draftData = {\n      ...payload, startDate: this.appointmentStartTime, endDate: this.appointmentEndTime,\n    };\n\n    return (\n      <Plugin\n        name=\"DragDropProvider\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"body\">\n          <TemplateConnector>\n            {({\n              viewCellsData, startViewDate, endViewDate, excludedDays,\n              timeTableElementsMeta, allDayElementsMeta, scrollingStrategy,\n            }, {\n              changeAppointment, startEditAppointment, finishCommitAppointment,\n            }) => {\n              const calculateBoundariesByMove = this.calculateNextBoundaries({\n                viewCellsData,\n                startViewDate,\n                endViewDate,\n                excludedDays,\n                timeTableElementsMeta,\n                allDayElementsMeta,\n                scrollingStrategy,\n              }, { changeAppointment, startEditAppointment });\n              return (\n                <DragDropProviderCore\n                  onChange={this.onPayloadChange({ finishCommitAppointment })}\n                >\n                  <DropTarget\n                    onOver={calculateBoundariesByMove}\n                    onEnter={calculateBoundariesByMove}\n                    onDrop={this.handleDrop({ finishCommitAppointment })}\n                    onLeave={this.handleLeave}\n                  >\n                    <TemplatePlaceholder />\n                  </DropTarget>\n                </DragDropProviderCore>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template\n          name=\"appointmentContent\"\n          predicate={({ data }: any) => allowDrag!(data)}\n        >\n          {({ styles, ...params }: any) => (\n            <DragSource\n              payload={{ ...params.data, type: params.type }}\n            >\n              {payload && params.data.id === payload.id ? (\n                <SourceAppointment {...params} />\n              ) : (\n                <TemplatePlaceholder params={{ ...params, draggable: true }} />\n              )}\n            </DragSource>\n          )}\n        </Template>\n\n        <Template\n          name=\"appointmentTop\"\n          predicate={(params: any) => !params.slice && allowResize!(params.data)}\n        >\n          {({ data, type }: any) => (\n            <DragSource\n              payload={{ ...data, type: RESIZE_TOP, appointmentType: type }}\n            >\n              <Resize position={POSITION_START} appointmentType={type} />\n            </DragSource>\n          )}\n        </Template>\n\n        <Template\n          name=\"appointmentBottom\"\n          predicate={(params: any) => !params.slice && allowResize!(params.data)}\n        >\n          {({ data, type }: any) => (\n            <DragSource\n              payload={{ ...data, type: RESIZE_BOTTOM, appointmentType: type }}\n            >\n              <Resize position={POSITION_END} appointmentType={type} />\n            </DragSource>\n          )}\n        </Template>\n\n        <Template name=\"allDayPanel\">\n          <TemplatePlaceholder />\n          {renderAppointmentItems(this.allDayDraftAppointments, Container, draftData)}\n        </Template>\n\n        <Template name=\"timeTable\">\n          <TemplatePlaceholder />\n          {renderAppointmentItems(this.timeTableDraftAppointments, Container, draftData)}\n        </Template>\n\n        <Template name=\"draftAppointment\">\n          {({ data, draftAppointment, ...restParams }: any) => (\n            <TemplateConnector>\n              {({ formatDate, resources, plainResources }) => {\n                const {\n                  dataItem, type, fromPrev, toNext, durationType, ...geometry\n                } = draftAppointment;\n                return (\n                  <DraftAppointment\n                    data={data}\n                    resources={getAppointmentResources(data, resources, plainResources)}\n                    durationType={durationType}\n                    style={getAppointmentStyle(geometry)}\n                    type={type}\n                    fromPrev={fromPrev}\n                    toNext={toNext}\n                    formatDate={formatDate}\n                    {...restParams}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that enables users to edit appointments via drag-and-drop. */\nexport const DragDropProvider: React.ComponentType<DragDropProviderProps> = DragDropProviderBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { TodayButtonProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'ViewState' },\n];\n\nconst defaultMessages = {\n  today: 'Today',\n};\n\nclass TodayButtonBase extends React.PureComponent<TodayButtonProps> {\n  static components: PluginComponents = {\n    buttonComponent: 'Button',\n  };\n  render() {\n    const {\n      buttonComponent: Button,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"TodayButton\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplateConnector>\n            {(getters, {\n              changeCurrentDate,\n            }) => {\n              const setCurrentDate = nextDate => changeCurrentDate({\n                nextDate,\n              });\n              return (\n                <Button\n                  getMessage={getMessage}\n                  setCurrentDate={setCurrentDate}\n                />\n              );\n            }}\n          </TemplateConnector>\n          <TemplatePlaceholder />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler's button which sets the current date to today's date. */\nexport const TodayButton: React.ComponentType<TodayButtonProps> = TodayButtonBase;\n","import * as React from 'react';\nimport { memoize, getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Plugin, Template, TemplatePlaceholder, TemplateConnector, Action, Getters, Actions,\n} from '@devexpress/dx-react-core';\nimport { RECURRENCE_EDIT_SCOPE } from '@devexpress/dx-scheduler-core';\nimport { EditRecurrenceMenuProps, EditRecurrenceMenuState } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n];\n\nconst defaultAvailableOperations = [\n  { value: RECURRENCE_EDIT_SCOPE.CURRENT },\n  { value: RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING },\n  { value: RECURRENCE_EDIT_SCOPE.ALL },\n];\n\nconst defaultMessages = {\n  [RECURRENCE_EDIT_SCOPE.CURRENT]: 'This appointment',\n  [RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING]: 'This and following appointments',\n  [RECURRENCE_EDIT_SCOPE.ALL]: 'All appointments',\n  menuEditTitle: 'Edit recurring appointment',\n  menuDeleteTitle: 'Delete recurring appointment',\n  cancelButton: 'Cancel',\n  commitButton: 'OK',\n};\n\nclass EditRecurrenceMenuBase extends React.PureComponent<\n  EditRecurrenceMenuProps, EditRecurrenceMenuState\n> {\n  static components = {\n    layoutComponent: 'Layout',\n    overlayComponent: 'Overlay',\n    buttonComponent: 'Button',\n    containerComponent: 'Container',\n  };\n\n  modalContainer = React.createRef();\n\n  state = {\n    isOpen: false,\n    deletedAppointmentData: null,\n  };\n\n  finishCommitAppointment = (\n    payload,\n    { editingAppointment }: Getters,\n    { commitChangedAppointment }: Actions,\n  ) => {\n    if (editingAppointment && !editingAppointment.rRule) {\n      commitChangedAppointment();\n    } else {\n      this.setState({\n        isOpen: true, deletedAppointmentData: null,\n      });\n    }\n  }\n\n  finishDeleteAppointment = (\n    payload,\n    getters,\n    { commitDeletedAppointment }: Actions,\n  ) => {\n    if (payload && !payload.rRule) {\n      commitDeletedAppointment({ deletedAppointmentData: payload });\n    } else {\n      this.setState({\n        isOpen: true, deletedAppointmentData: payload,\n      });\n    }\n  }\n\n  commit = memoize((editAction, deleteAction, payload) => (type) => {\n    if (payload) {\n      deleteAction({ deletedAppointmentData: payload, type });\n    } else {\n      editAction(type);\n    }\n    this.closeMenu();\n  });\n\n  closeMenu = () => {\n    this.setState({ isOpen: false, deletedAppointmentData: null });\n  }\n\n  cancelEditing = memoize((cancelAction, stopEditAction) => () => {\n    stopEditAction();\n    cancelAction();\n    this.closeMenu();\n  });\n\n  availableOperations = memoize((getMessage, menuAvailableOperations) =>\n    menuAvailableOperations.map(({ value }) => ({\n      value,\n      title: getMessage([value]),\n    })));\n\n  getMessage = memoize((messages, menuMessages) =>\n    getMessagesFormatter({ ...menuMessages, ...messages }));\n\n  render() {\n    const { isOpen, deletedAppointmentData } = this.state;\n    const {\n      layoutComponent: Layout,\n      overlayComponent: Overlay,\n      containerComponent: Container,\n      buttonComponent,\n      messages,\n    } = this.props;\n\n    const getMessage = this.getMessage(messages, defaultMessages);\n    const availableOperations = this.availableOperations(getMessage, defaultAvailableOperations);\n\n    return (\n      <Plugin\n        name=\"EditRecurrenceMenu\"\n        dependencies={pluginDependencies}\n      >\n        <Action name=\"finishCommitAppointment\" action={this.finishCommitAppointment} />\n        <Action name=\"finishDeleteAppointment\" action={this.finishDeleteAppointment} />\n\n        <Template name=\"schedulerRoot\">\n          <TemplatePlaceholder />\n          <Container ref={this.modalContainer} />\n          <TemplatePlaceholder name=\"overlay\" />\n        </Template>\n\n        <Template name=\"overlay\">\n          <TemplateConnector>\n            {(getters, {\n              commitChangedAppointment, commitDeletedAppointment,\n              cancelChangedAppointment, stopEditAppointment,\n            }) => {\n              const commit = this.commit(\n                commitChangedAppointment, commitDeletedAppointment, deletedAppointmentData,\n              );\n              const cancelEditing = this.cancelEditing(\n                cancelChangedAppointment, stopEditAppointment,\n              );\n\n              return (\n                <Overlay\n                  target={this.modalContainer}\n                  visible={isOpen}\n                  onHide={this.closeMenu}\n                >\n                  <Layout\n                    isDeleting={!!deletedAppointmentData}\n                    buttonComponent={buttonComponent}\n                    handleClose={cancelEditing}\n                    commit={commit}\n                    availableOperations={availableOperations}\n                    getMessage={getMessage}\n                  />\n                </Overlay>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/**\n * A plugin that renders the Scheduler's edit menu.\n * Should not be used with the `IntegratedEditing` plugin.\n */\nexport const EditRecurrenceMenu: React.ComponentType<\n  EditRecurrenceMenuProps\n> = EditRecurrenceMenuBase;\n","import * as React from 'react';\nimport { Action, Plugin, Actions } from '@devexpress/dx-react-core';\nimport { IntegratedEditingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n];\n\nclass IntegratedEditingBase extends React.PureComponent<IntegratedEditingProps> {\n  static defaultProps = {\n    totalCount: 0,\n  };\n\n  finishCommitAppointment = (payload, getters, { commitChangedAppointment }: Actions) => {\n    commitChangedAppointment();\n  }\n\n  finishDeleteAppointment = (payload, getters, { commitDeletedAppointment }: Actions) => {\n    commitDeletedAppointment({ deletedAppointmentData: payload });\n  }\n\n  render() {\n    return (\n      <Plugin\n        name=\"IntegratedEditing\"\n        dependencies={pluginDependencies}\n      >\n        <Action name=\"finishCommitAppointment\" action={this.finishCommitAppointment} />\n        <Action name=\"finishDeleteAppointment\" action={this.finishDeleteAppointment} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that allows implementing a editing calculation logic. */\nexport const IntegratedEditing: React.ComponentType<IntegratedEditingProps> = IntegratedEditingBase;\n","import * as React from 'react';\nimport { Plugin, Getter, Template, TemplatePlaceholder, TemplateConnector, Getters } from '@devexpress/dx-react-core';\nimport { convertResourcesToPlain, validateResources, getAppointmentResources } from '@devexpress/dx-scheduler-core';\nimport { ResourcesProps } from '../types/resources/resources.types';\nimport { Appointments } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Appointments' },\n];\n\nconst ResourcesBase: React.SFC<ResourcesProps> = ({\n  data, mainResourceName, palette,\n}) => {\n  const convertResources = ({ resources }: Getters) =>\n    convertResourcesToPlain(resources);\n\n  return (\n  <Plugin\n    name=\"Resources\"\n    dependencies={pluginDependencies}\n  >\n    <Getter name=\"resources\" value={validateResources(data, mainResourceName, palette)} />\n    <Getter name=\"plainResources\" computed={convertResources} />\n\n    <Template name=\"appointment\">\n      {(params: Appointments.AppointmentProps) => (\n        <TemplateConnector>\n          {({ resources, plainResources }) => {\n            return (\n              <TemplatePlaceholder\n                params={{\n                  ...params,\n                  resources: getAppointmentResources(params.data as any, resources, plainResources),\n                }}\n              />\n            );\n          }}\n        </TemplateConnector>\n      )}\n    </Template>\n  </Plugin>\n  );\n};\n\n/** A plugin that manages schedule's resources. */\nexport const Resources: React.ComponentType<ResourcesProps> = ResourcesBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  Action,\n} from '@devexpress/dx-react-core';\nimport { ConfirmationDialogProps } from '../types/editing/confirmation-dialog.types';\nimport { AppointmentModel } from '@devexpress/dx-scheduler-core';\n\nconst defaultMessages = {\n  discardButton: 'Discard',\n  deleteButton: 'Delete',\n  cancelButton: 'Cancel',\n  confirmDeleteMessage: 'Are you sure you want to delete this appointment?',\n  confirmCancelMessage: 'Discard unsaved changes?',\n};\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n];\n\nconst ACTION_TYPES = {\n  CANCEL: 'cancel',\n  DELETE: 'delete',\n};\n\nconst ConfirmationDialogBase: React.SFC<ConfirmationDialogProps> & {components: {\n  overlayComponent: string, containerComponent: string,\n  layoutComponent: string, buttonComponent: string,\n}} = ({\n  messages, overlayComponent: Overlay, layoutComponent: Layout, containerComponent: Container,\n  buttonComponent, ignoreDelete, ignoreCancel,\n}) => {\n  const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n  const modalContainer = React.useRef();\n\n  const [visible, setVisible] = React.useState(false);\n  const [actionType, setActionType] = React.useState('');\n  const [hideActionName, setHideActionName] = React.useState('');\n  const [appointmentData, setAppointmentData] = React.useState({});\n\n  const toggleVisibility = React.useCallback(() => {\n    setVisible(!visible);\n  }, [visible, setVisible]);\n\n  const confirmCancelChanges = React.useCallback((hideAction) => {\n    toggleVisibility();\n    setHideActionName(hideAction);\n    setActionType(ACTION_TYPES.CANCEL);\n  }, [toggleVisibility, setHideActionName, setActionType]);\n\n  const confirmDelete = React.useCallback(({\n    hideActionName: hideAction, appointmentData: changedAppointment,\n  }) => {\n    toggleVisibility();\n    setHideActionName(hideAction);\n    setActionType(ACTION_TYPES.DELETE);\n    setAppointmentData(changedAppointment);\n  }, [toggleVisibility, setHideActionName, setActionType, setAppointmentData]);\n\n  const confirmAction = React.useCallback((\n    isNewAppointment, hideEditor, stopEditAppointment, finishDeleteAppointment,\n    cancelAddedAppointment, cancelChangedAppointment,\n  ) => () => {\n    hideEditor();\n    toggleVisibility();\n    if (isNewAppointment) {\n      cancelAddedAppointment();\n    } else {\n      stopEditAppointment();\n      cancelChangedAppointment();\n    }\n    if (actionType === ACTION_TYPES.DELETE) {\n      finishDeleteAppointment(appointmentData);\n    }\n  }, [toggleVisibility, actionType, appointmentData]);\n\n  return (\n    <Plugin\n      name=\"ConfirmationDialog\"\n      dependencies={pluginDependencies}\n    >\n      {!ignoreCancel &&\n        <Action name=\"openCancelConfirmationDialog\" action={confirmCancelChanges} />\n      }\n      {!ignoreDelete &&\n        <Action name=\"openDeleteConfirmationDialog\" action={confirmDelete} />\n      }\n\n      <Template name=\"schedulerRoot\">\n        <TemplatePlaceholder />\n        <Container ref={modalContainer} />\n        <TemplatePlaceholder name=\"confirmationDialogOverlay\" />\n      </Template>\n\n      <Template name=\"confirmationDialogOverlay\">\n        <TemplateConnector>\n          {({\n            editingAppointment,\n          }, actions) => {\n            const handleConfirm = confirmAction(\n              !editingAppointment, actions[hideActionName], actions.stopEditAppointment,\n              actions.finishDeleteAppointment, actions.cancelAddedAppointment,\n              actions.cancelChangedAppointment,\n            );\n\n            return (\n              <Overlay\n                target={modalContainer}\n                visible={visible}\n                onHide={toggleVisibility}\n              >\n                <Layout\n                  buttonComponent={buttonComponent}\n                  handleCancel={toggleVisibility}\n                  handleConfirm={handleConfirm}\n                  getMessage={getMessage}\n                  isDeleting={actionType === ACTION_TYPES.DELETE}\n                  appointmentData={appointmentData as AppointmentModel}\n                />\n              </Overlay>\n            );\n          }}\n        </TemplateConnector>\n      </Template>\n    </Plugin>\n  );\n};\n\nConfirmationDialogBase.components = {\n  overlayComponent: 'Overlay',\n  containerComponent: 'Container',\n  layoutComponent: 'Layout',\n  buttonComponent: 'Button',\n};\n\nConfirmationDialogBase.defaultProps = {\n  ignoreCancel: false,\n  ignoreDelete: false,\n};\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that renders the dialog which allows users to confirm or to discard delete and cancel appointment actions. */\nexport const ConfirmationDialog: React.ComponentType<\n  ConfirmationDialogProps\n> = ConfirmationDialogBase;\n","import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport {\n  isMonthCell, isShadedAppointment,\n  isCellShaded, getCurrentTimeIndicatorTop,\n} from '@devexpress/dx-scheduler-core';\nimport { CurrentTimeIndicatorProps, Appointments } from '../types';\n\nconst pluginDependencies = [\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'MonthView', optional: true },\n  { name: 'DragDropProvider', optional: true },\n  { name: 'Appointments', optional: true },\n];\n\nconst CurrentTimeIndicatorBase: React.SFC<CurrentTimeIndicatorProps>  & {components: {\n  indicatorComponent: string,\n}} = ({\n  indicatorComponent, shadePreviousAppointments, shadePreviousCells, updateInterval,\n}) => {\n  const [currentTime, setCurrentTime] = React.useState(Date.now);\n  const [indicatorUpdateTimer, setIndicatorUpdateTimer] = React.useState<any>(undefined);\n\n  React.useEffect(() => {\n    clearInterval(indicatorUpdateTimer);\n    setIndicatorUpdateTimer(setInterval(() => {\n      setCurrentTime(Date.now());\n    }, updateInterval));\n    return () => clearInterval(indicatorUpdateTimer);\n  }, [updateInterval]);\n\n  return (\n    <Plugin\n      name=\"CurrentTimeIndicator\"\n      dependencies={pluginDependencies}\n    >\n      <Template\n        name=\"cell\"\n        predicate={({ otherMonth }: any) => !isMonthCell(otherMonth)}\n      >\n        {(params: any) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              currentTimeIndicatorPosition: getCurrentTimeIndicatorTop(params, currentTime),\n              currentTimeIndicatorComponent: indicatorComponent,\n            }}\n          />\n        )}\n      </Template>\n      <Template\n        name=\"cell\"\n      >\n        {(params: any) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              isShaded: isCellShaded(params, currentTime, shadePreviousCells),\n            }}\n          />\n        )}\n      </Template>\n      <Template\n        name=\"appointmentContent\"\n      >\n        {(params: Appointments.AppointmentProps) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              isShaded: isShadedAppointment(\n                params, currentTime, shadePreviousAppointments,\n              ),\n            }}\n          />\n        )}\n      </Template>\n      <Template\n        name=\"draftAppointment\"\n      >\n        {(params: Appointments.AppointmentProps) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              isShaded: isShadedAppointment(\n                params, currentTime, shadePreviousAppointments,\n              ),\n            }}\n          />\n        )}\n      </Template>\n    </Plugin>\n  );\n};\n\nCurrentTimeIndicatorBase.defaultProps = {\n  updateInterval: 60000,\n  shadePreviousCells: false,\n  shadePreviousAppointments: false,\n};\n\nCurrentTimeIndicatorBase.components = {\n  indicatorComponent: 'Indicator',\n};\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that renders the current time indicator and the shading that covers appointments and timetable cells up to the current time. */\nexport const CurrentTimeIndicator: React.ComponentType<\n  CurrentTimeIndicatorProps\n> = CurrentTimeIndicatorBase;\n"]},"metadata":{},"sourceType":"module"}